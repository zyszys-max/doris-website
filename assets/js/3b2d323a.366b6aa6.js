"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[79045],{15680:(e,t,a)=>{a.d(t,{xA:()=>m,yg:()=>c});var r=a(296540);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,l=function(e,t){if(null==e)return{};var a,r,l={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,l=e.mdxType,n=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=p(a),d=l,c=u["".concat(s,".").concat(d)]||u[d]||g[d]||n;return a?r.createElement(c,i(i({ref:t},m),{},{components:a})):r.createElement(c,i({ref:t},m))}));function c(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var n=a.length,i=new Array(n);i[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:l,i[1]=o;for(var p=2;p<n;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},885913:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>g,frontMatter:()=>n,metadata:()=>o,toc:()=>p});var r=a(58168),l=(a(296540),a(15680));const n={title:"GRANT",language:"en"},i=void 0,o={unversionedId:"sql-manual/sql-statements/Account-Management-Statements/GRANT",id:"sql-manual/sql-statements/Account-Management-Statements/GRANT",title:"GRANT",description:"\x3c!--",source:"@site/docs/sql-manual/sql-statements/Account-Management-Statements/GRANT.md",sourceDirName:"sql-manual/sql-statements/Account-Management-Statements",slug:"/sql-manual/sql-statements/Account-Management-Statements/GRANT",permalink:"/docs/dev/sql-manual/sql-statements/Account-Management-Statements/GRANT",draft:!1,tags:[],version:"current",frontMatter:{title:"GRANT",language:"en"},sidebar:"docs",previous:{title:"LDAP",permalink:"/docs/dev/sql-manual/sql-statements/Account-Management-Statements/LDAP"},next:{title:"REVOKE",permalink:"/docs/dev/sql-manual/sql-statements/Account-Management-Statements/REVOKE"}},s={},p=[{value:"Description",id:"description",level:2},{value:"Syntax",id:"syntax",level:2},{value:"Parameters",id:"parameters",level:2},{value:"privilege_list",id:"privilege_list",level:3},{value:"priv_level",id:"priv_level",level:3},{value:"resource_name",id:"resource_name",level:3},{value:"workload_group_name",id:"workload_group_name",level:3},{value:"compute_group_name",id:"compute_group_name",level:3},{value:"storage_vault_name",id:"storage_vault_name",level:3},{value:"user_identity",id:"user_identity",level:3},{value:"role_name",id:"role_name",level:3},{value:"role_list",id:"role_list",level:3},{value:"Examples",id:"examples",level:2},{value:"Related Commands",id:"related-commands",level:2},{value:"Keywords",id:"keywords",level:2}],m={toc:p},u="wrapper";function g(e){let{components:t,...a}=e;return(0,l.yg)(u,(0,r.A)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,l.yg)("h2",{id:"description"},"Description"),(0,l.yg)("p",null,"The GRANT command is used to:"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},"Grant specified privileges to a user or role."),(0,l.yg)("li",{parentName:"ol"},"Grant specified roles to a user.")),(0,l.yg)("h2",{id:"syntax"},"Syntax"),(0,l.yg)("p",null,"GRANT privilege_list ON priv_level TO user_identity ","[ROLE role_name]"),(0,l.yg)("p",null,"GRANT privilege_list ON RESOURCE resource_name TO user_identity ","[ROLE role_name]"),(0,l.yg)("p",null,"GRANT privilege_list ON WORKLOAD GROUP workload_group_name TO user_identity ","[ROLE role_name]"),(0,l.yg)("p",null,"GRANT privilege_list ON COMPUTE GROUP compute_group_name TO user_identity ","[ROLE role_name]"),(0,l.yg)("p",null,"GRANT privilege_list ON STORAGE VAULT storage_vault_name TO user_identity ","[ROLE role_name]"),(0,l.yg)("p",null,"GRANT role_list TO user_identity"),(0,l.yg)("h2",{id:"parameters"},"Parameters"),(0,l.yg)("h3",{id:"privilege_list"},"privilege_list"),(0,l.yg)("p",null,"A comma-separated list of privileges to be granted. Currently supported privileges include:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"NODE_PRIV: Cluster node operation permissions, including node online and offline operations."),(0,l.yg)("li",{parentName:"ul"},"ADMIN_PRIV: All privileges except NODE_PRIV."),(0,l.yg)("li",{parentName:"ul"},"GRANT_PRIV: Privilege for operation privileges, including creating and deleting users, roles, authorization and revocation, setting passwords, etc."),(0,l.yg)("li",{parentName:"ul"},"SELECT_PRIV: Read permission on the specified database or table."),(0,l.yg)("li",{parentName:"ul"},"LOAD_PRIV: Import privileges on the specified database or table."),(0,l.yg)("li",{parentName:"ul"},"ALTER_PRIV: Schema change permission for the specified database or table."),(0,l.yg)("li",{parentName:"ul"},"CREATE_PRIV: Create permission on the specified database or table."),(0,l.yg)("li",{parentName:"ul"},"DROP_PRIV: Drop privilege on the specified database or table."),(0,l.yg)("li",{parentName:"ul"},"USAGE_PRIV: Access to the specified resource and Workload Group permissions."),(0,l.yg)("li",{parentName:"ul"},"SHOW_VIEW_PRIV: Permission to view ",(0,l.yg)("inlineCode",{parentName:"li"},"view")," creation statements.")),(0,l.yg)("p",null,"Legacy privilege conversion:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},"ALL and READ_WRITE will be converted to: SELECT_PRIV, LOAD_PRIV, ALTER_PRIV, CREATE_PRIV, DROP_PRIV."),(0,l.yg)("li",{parentName:"ul"},"READ_ONLY is converted to SELECT_PRIV.")),(0,l.yg)("h3",{id:"priv_level"},"priv_level"),(0,l.yg)("p",null,"Supports the following four forms:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("em",{parentName:"li"},"."),".*: Privileges can be applied to all catalogs and all databases and tables within them."),(0,l.yg)("li",{parentName:"ul"},"catalog_name.",(0,l.yg)("em",{parentName:"li"},"."),": Privileges can be applied to all databases and tables in the specified catalog."),(0,l.yg)("li",{parentName:"ul"},"catalog_name.db.*: Privileges can be applied to all tables under the specified database."),(0,l.yg)("li",{parentName:"ul"},"catalog_name.db.tbl: Privileges can be applied to the specified table under the specified database.")),(0,l.yg)("h3",{id:"resource_name"},"resource_name"),(0,l.yg)("p",null,"Specifies the resource name, supporting ",(0,l.yg)("inlineCode",{parentName:"p"},"%")," and ",(0,l.yg)("inlineCode",{parentName:"p"},"*")," to match all resources, but does not support wildcards, such as res*."),(0,l.yg)("h3",{id:"workload_group_name"},"workload_group_name"),(0,l.yg)("p",null,"Specifies the workload group name, supporting ",(0,l.yg)("inlineCode",{parentName:"p"},"%")," and ",(0,l.yg)("inlineCode",{parentName:"p"},"*")," to match all workload groups, but does not support wildcards."),(0,l.yg)("h3",{id:"compute_group_name"},"compute_group_name"),(0,l.yg)("p",null,"Specifies the compute group name, supporting ",(0,l.yg)("inlineCode",{parentName:"p"},"%")," and ",(0,l.yg)("inlineCode",{parentName:"p"},"*")," to match all compute groups, but does not support wildcards."),(0,l.yg)("h3",{id:"storage_vault_name"},"storage_vault_name"),(0,l.yg)("p",null,"Specifies the storage vault name, supporting ",(0,l.yg)("inlineCode",{parentName:"p"},"%")," and ",(0,l.yg)("inlineCode",{parentName:"p"},"*")," to match all storage vaults, but does not support wildcards."),(0,l.yg)("h3",{id:"user_identity"},"user_identity"),(0,l.yg)("p",null,"Specifies the user to receive the privileges. Must be a user_identity created with CREATE USER. The host in user_identity can be a domain name. If it is a domain name, the effective time of the authority may be delayed by about 1 minute."),(0,l.yg)("h3",{id:"role_name"},"role_name"),(0,l.yg)("p",null,"Specifies the role to receive the privileges. If the specified role does not exist, it will be created automatically."),(0,l.yg)("h3",{id:"role_list"},"role_list"),(0,l.yg)("p",null,"A comma-separated list of roles to be assigned. The specified roles must exist."),(0,l.yg)("h2",{id:"examples"},"Examples"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant permissions to all catalogs and databases and tables to the user:"),(0,l.yg)("p",{parentName:"li"},"GRANT SELECT_PRIV ON ",(0,l.yg)("em",{parentName:"p"},"."),".* TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant permissions to the specified database table to the user:"),(0,l.yg)("p",{parentName:"li"},"GRANT SELECT_PRIV,ALTER_PRIV,LOAD_PRIV ON ctl1.db1.tbl1 TO 'jack'@'192.8.%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant permissions to the specified database table to the role:"),(0,l.yg)("p",{parentName:"li"},"GRANT LOAD_PRIV ON ctl1.db1.* TO ROLE 'my_role';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant access to all resources to users:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON RESOURCE * TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant the user permission to use the specified resource:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON RESOURCE 'spark_resource' TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant access to specified resources to roles:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON RESOURCE 'spark_resource' TO ROLE 'my_role';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant the specified role to a user:"),(0,l.yg)("p",{parentName:"li"},"GRANT 'role1','role2' TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant the specified workload group 'g1' to user jack:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON WORKLOAD GROUP 'g1' TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Match all workload groups granted to user jack:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON WORKLOAD GROUP '%' TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant the workload group 'g1' to the role my_role:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON WORKLOAD GROUP 'g1' TO ROLE 'my_role';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Allow jack to view the creation statement of view1 under db1:"),(0,l.yg)("p",{parentName:"li"},"GRANT SHOW_VIEW_PRIV ON db1.view1 TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant user permission to use the specified compute group:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON COMPUTE GROUP 'group1' TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant role permission to use the specified compute group:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON COMPUTE GROUP 'group1' TO ROLE 'my_role';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant user permission to use all compute groups:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON COMPUTE GROUP '*' TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant user permission to use the specified storage vault:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON STORAGE VAULT 'vault1' TO 'jack'@'%';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant role permission to use the specified storage vault:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON STORAGE VAULT 'vault1' TO ROLE 'my_role';")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"Grant user permission to use all storage vaults:"),(0,l.yg)("p",{parentName:"li"},"GRANT USAGE_PRIV ON STORAGE VAULT '*' TO 'jack'@'%';"))),(0,l.yg)("h2",{id:"related-commands"},"Related Commands"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"/docs/dev/sql-manual/sql-statements/Account-Management-Statements/REVOKE"},"REVOKE")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"/docs/dev/sql-manual/sql-statements/Show-Statements/SHOW-GRANTS"},"SHOW GRANTS")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"/docs/dev/sql-manual/sql-statements/Account-Management-Statements/CREATE-ROLE"},"CREATE ROLE")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"../Administration-Statements/CREATE-WORKLOAD-GROUP.md"},"CREATE WORKLOAD GROUP")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"../Administration-Statements/CREATE-COMPUTE-GROUP.md"},"CREATE COMPUTE GROUP")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"../Administration-Statements/CREATE-RESOURCE.md"},"CREATE RESOURCE")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("a",{parentName:"li",href:"../Administration-Statements/CREATE-STORAGE-VAULT.md"},"CREATE STORAGE VAULT"))),(0,l.yg)("h2",{id:"keywords"},"Keywords"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre"},"GRANT, WORKLOAD GROUP, COMPUTE GROUP, RESOURCE\n")))}g.isMDXComponent=!0}}]);