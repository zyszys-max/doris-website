"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[110367],{15680:(e,t,n)=>{n.d(t,{xA:()=>u,yg:()=>y});var r=n(296540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),g=a,y=d["".concat(s,".").concat(g)]||d[g]||p[g]||i;return n?r.createElement(y,o(o({ref:t},u),{},{components:n})):r.createElement(y,o({ref:t},u))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},470036:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=n(58168),a=(n(296540),n(15680));const i={title:"Cloud Service Authentication",language:"en"},o=void 0,l={unversionedId:"lakehouse/cloud-auth",id:"lakehouse/cloud-auth",title:"Cloud Service Authentication",description:"\x3c!--",source:"@site/docs/lakehouse/cloud-auth.md",sourceDirName:"lakehouse",slug:"/lakehouse/cloud-auth",permalink:"/docs/dev/lakehouse/cloud-auth",draft:!1,tags:[],version:"current",frontMatter:{title:"Cloud Service Authentication",language:"en"},sidebar:"docs",previous:{title:"External Table Statistics",permalink:"/docs/dev/lakehouse/external-statistics"},next:{title:"SQL Converter for Apache Doris",permalink:"/docs/dev/lakehouse/sql-dialect"}},s={},c=[{value:"AWS",id:"aws",level:2},{value:"Catalog Credentials",id:"catalog-credentials",level:3},{value:"System Credentials",id:"system-credentials",level:3}],u={toc:c},d="wrapper";function p(e){let{components:t,...n}=e;return(0,a.yg)(d,(0,r.A)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"overview"},"Overview"),(0,a.yg)("p",null,"When accessing a service on the cloud, we need to provide the credentials needed to access the service so that the service can be authenticated by IAM of cloud vendors."),(0,a.yg)("h2",{id:"aws"},"AWS"),(0,a.yg)("p",null,"Now Doris support two types of authentication to access AWS service."),(0,a.yg)("h3",{id:"catalog-credentials"},"Catalog Credentials"),(0,a.yg)("p",null,"When access Glue though Iceberg Catalog, we can access tables on Glue by filling in the following properties:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-sql"},'-- Using access key and secret key\nCREATE CATALOG glue2 PROPERTIES (\n    "type"="iceberg",\n    "iceberg.catalog.type" = "glue",\n    "glue.endpoint" = "https://glue.us-east-1.amazonaws.com/",\n    "client.credentials-provider" = "com.amazonaws.glue.catalog.credentials.ConfigAWSProvider",\n    "client.credentials-provider.glue.access_key" = "ak",\n    "client.credentials-provider.glue.secret_key" = "sk"\n);\n')),(0,a.yg)("h3",{id:"system-credentials"},"System Credentials"),(0,a.yg)("p",null,"For applications running on AWS resources, such as EC2 instances, this approach enhances security by avoiding hardcoded credentials."),(0,a.yg)("p",null,"If we create the Catalog but not fill any Credentials in properties, the ",(0,a.yg)("inlineCode",{parentName:"p"},"DefaultAWSCredentialsProviderChain")," will be used to read in the system environment variables or instance profile."),(0,a.yg)("p",null,"For details about how to configure environment variables and system properties, see: ",(0,a.yg)("a",{parentName:"p",href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html"},"AWS CLI")," ."),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"The configurable environment variables are: ",(0,a.yg)("inlineCode",{parentName:"li"},"AWS_ACCESS_KEY_ID"),"\u3001",(0,a.yg)("inlineCode",{parentName:"li"},"AWS_SECRET_ACCESS_KEY"),"\u3001",(0,a.yg)("inlineCode",{parentName:"li"},"AWS_SESSION_TOKEN"),"\u3001",(0,a.yg)("inlineCode",{parentName:"li"},"AWS_ROLE_ARN"),"\u3001",(0,a.yg)("inlineCode",{parentName:"li"},"AWS_WEB_IDENTITY_TOKEN_FILE")," and so on."),(0,a.yg)("li",{parentName:"ul"},"In addition, you can also use ",(0,a.yg)("a",{parentName:"li",href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html"},"aws configure")," to configure Credentials, the Credentials file will be written to the ",(0,a.yg)("inlineCode",{parentName:"li"},"~/.aws")," directory.")))}p.isMDXComponent=!0}}]);