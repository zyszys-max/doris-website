"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[499328],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>m});var a=n(296540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),g=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=g(e.components);return a.createElement(u.Provider,{value:t},e.children)},d="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=g(n),c=r,m=d["".concat(u,".").concat(c)]||d[c]||y[c]||l;return n?a.createElement(m,i(i({ref:t},p),{},{components:n})):a.createElement(m,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=c;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o[d]="string"==typeof e?e:r,i[1]=o;for(var g=2;g<l;g++)i[g]=n[g];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},41875:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>y,frontMatter:()=>l,metadata:()=>o,toc:()=>g});var a=n(58168),r=(n(296540),n(15680));const l={title:"Kudu Catalog",language:"en"},i=void 0,o={unversionedId:"lakehouse/datalake-analytics/kudu",id:"version-3.0/lakehouse/datalake-analytics/kudu",title:"Kudu Catalog",description:"\x3c!--",source:"@site/versioned_docs/version-3.0/lakehouse/datalake-analytics/kudu.md",sourceDirName:"lakehouse/datalake-analytics",slug:"/lakehouse/datalake-analytics/kudu",permalink:"/docs/3.0/lakehouse/datalake-analytics/kudu",draft:!1,tags:[],version:"3.0",frontMatter:{title:"Kudu Catalog",language:"en"},sidebar:"docs",previous:{title:"Delta Lake Catalog",permalink:"/docs/3.0/lakehouse/datalake-analytics/deltalake"},next:{title:"Alibaba Cloud DLF",permalink:"/docs/3.0/lakehouse/datalake-analytics/dlf"}},u={},g=[{value:"Instructions for Use",id:"instructions-for-use",level:2},{value:"Compiling the Kudu Connector Plugin",id:"compiling-the-kudu-connector-plugin",level:2},{value:"Deploying the Kudu Connector",id:"deploying-the-kudu-connector",level:2},{value:"Creating the Kudu Catalog",id:"creating-the-kudu-catalog",level:2},{value:"Column Type Mapping",id:"column-type-mapping",level:2}],p={toc:g},d="wrapper";function y(e){let{components:t,...n}=e;return(0,r.yg)(d,(0,a.A)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"Kudu Catalog is compatible with the ",(0,r.yg)("a",{parentName:"p",href:"https://doris.apache.org/community/how-to-contribute/trino-connector-developer-guide/"},"Trino Connector")," framework, using the Kudu Connector to access Kudu tables."),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"This feature is supported starting from Doris version 3.0.1.")),(0,r.yg)("admonition",{title:"Note",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"This is an experimental feature.")),(0,r.yg)("h2",{id:"instructions-for-use"},"Instructions for Use"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"Before accessing Kudu tables using the Trino Catalog, you must first compile the Trino Kudu plugin and place it in the specified directory. Refer to the following steps for detailed instructions."),(0,r.yg)("li",{parentName:"ol"},"The current Doris is compatible with the Trino 435 version plugin. Using a Trino plugin lower or higher than version 435 may cause compatibility issues."),(0,r.yg)("li",{parentName:"ol"},"Due to the Trino 435 version Kudu plugin not supporting the DATE type, it is recommended to use the Kudu plugin we provide.")),(0,r.yg)("h2",{id:"compiling-the-kudu-connector-plugin"},"Compiling the Kudu Connector Plugin"),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},"JDK version 17 is required.")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-Plain",metastring:"Text",Text:!0},"$ git clone https://github.com/apache/Doris-thirdparty.git\n$ cd Doris-thirdparty\n$ git checkout trino-435\n$ cd plugin/trino-kudu\n$ mvn clean package -Dmaven.test.skip=true\n")),(0,r.yg)("p",null,"After compiling, you will find the ",(0,r.yg)("inlineCode",{parentName:"p"},"trino-kudu-435/")," directory under ",(0,r.yg)("inlineCode",{parentName:"p"},"trino/plugin/trino-kudu/target/"),"."),(0,r.yg)("p",null,"You can also directly download our precompiled ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/apache/Doris-thirdparty/releases/download/trino-435-20240724/trino-kudu-435-20240724.tar.gz"},"trino-kudu-435-20240724.tar.gz")," and extract it."),(0,r.yg)("h2",{id:"deploying-the-kudu-connector"},"Deploying the Kudu Connector"),(0,r.yg)("p",null,"Place the ",(0,r.yg)("inlineCode",{parentName:"p"},"trino-kudu-435/")," directory in the ",(0,r.yg)("inlineCode",{parentName:"p"},"connectors/")," directory of all FE and BE deployment paths. (If it does not exist, you can create it manually)."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-Plain",metastring:"Text",Text:!0},"\u251c\u2500\u2500 bin\n\u251c\u2500\u2500 conf\n\u251c\u2500\u2500 connectors\n\u2502   \u251c\u2500\u2500 trino-kudu-435\n...\n")),(0,r.yg)("p",null,"After deployment, it is recommended to restart the FE and BE nodes to ensure the Connector is correctly loaded."),(0,r.yg)("h2",{id:"creating-the-kudu-catalog"},"Creating the Kudu Catalog"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},'create catalog kudu_catalog properties (  \n    "type"="trino-connector",  \n    "trino.connector.name"="kudu", \n    "trino.kudu.client.master-addresses"="ip1:port1,ip2:port2,ip3,port3", \n    "trino.kudu.authentication.type" = "NONE" \n);\n')),(0,r.yg)("p",null,"Note: Properties prefixed with ",(0,r.yg)("inlineCode",{parentName:"p"},"trino.")," are native Trino properties. For more information on Kudu properties, refer to the ",(0,r.yg)("a",{parentName:"p",href:"https://trino.io/docs/current/connector/kudu.html"},"Trino documentation"),"."),(0,r.yg)("h2",{id:"column-type-mapping"},"Column Type Mapping"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Kudu"),(0,r.yg)("th",{parentName:"tr",align:null},"Trino"),(0,r.yg)("th",{parentName:"tr",align:null},"Doris"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.yg)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.yg)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"INT8"),(0,r.yg)("td",{parentName:"tr",align:null},"TINYINT"),(0,r.yg)("td",{parentName:"tr",align:null},"TINYINT"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"INT16"),(0,r.yg)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.yg)("td",{parentName:"tr",align:null},"SMALLINT"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"INT32"),(0,r.yg)("td",{parentName:"tr",align:null},"INTEGER"),(0,r.yg)("td",{parentName:"tr",align:null},"INT"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"INT64"),(0,r.yg)("td",{parentName:"tr",align:null},"BIGINT"),(0,r.yg)("td",{parentName:"tr",align:null},"BIGINT"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"FLOAT"),(0,r.yg)("td",{parentName:"tr",align:null},"REAL"),(0,r.yg)("td",{parentName:"tr",align:null},"FLOAT"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.yg)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.yg)("td",{parentName:"tr",align:null},"DOUBLE"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"BINARY"),(0,r.yg)("td",{parentName:"tr",align:null},"VARBINARY"),(0,r.yg)("td",{parentName:"tr",align:null},"STRING"),(0,r.yg)("td",{parentName:"tr",align:null},"Needs HEX(col) to display the same as Trino")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"STRING"),(0,r.yg)("td",{parentName:"tr",align:null},"VARCHAR"),(0,r.yg)("td",{parentName:"tr",align:null},"STRING"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"DECIMAL(p,s)"),(0,r.yg)("td",{parentName:"tr",align:null},"DECIMAL(p,s)"),(0,r.yg)("td",{parentName:"tr",align:null},"DECIMAL(p,s)"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"DATE"),(0,r.yg)("td",{parentName:"tr",align:null},"DATE"),(0,r.yg)("td",{parentName:"tr",align:null},"DATE"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"UNIXTIME_MICROS"),(0,r.yg)("td",{parentName:"tr",align:null},"TIMESTAMP(3)"),(0,r.yg)("td",{parentName:"tr",align:null},"DATETIME(3)"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"VARCHAR"),(0,r.yg)("td",{parentName:"tr",align:null},"UNSUPPORTED"),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"UTF-8 encoded string"),(0,r.yg)("td",{parentName:"tr",align:null},"UNSUPPORTED"),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null})))))}y.isMDXComponent=!0}}]);