"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[726858],{15680:(e,r,t)=>{t.d(r,{xA:()=>u,yg:()=>g});var n=t(296540);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=n.createContext({}),c=function(e){var r=n.useContext(s),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},u=function(e){var r=c(e.components);return n.createElement(s.Provider,{value:r},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var t=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(t),m=o,g=d["".concat(s,".").concat(m)]||d[m]||p[m]||a;return t?n.createElement(g,i(i({ref:r},u),{},{components:t})):n.createElement(g,i({ref:r},u))}));function g(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=m;var l={};for(var s in r)hasOwnProperty.call(r,s)&&(l[s]=r[s]);l.originalType=e,l[d]="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=t[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},212350:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var n=t(58168),o=(t(296540),t(15680));const a={title:"Release 1.1.1",language:"en"},i=void 0,l={unversionedId:"releasenotes/v1.1/release-1.1.1",id:"version-3.0/releasenotes/v1.1/release-1.1.1",title:"Release 1.1.1",description:"\x3c!--",source:"@site/versioned_docs/version-3.0/releasenotes/v1.1/release-1.1.1.md",sourceDirName:"releasenotes/v1.1",slug:"/releasenotes/v1.1/release-1.1.1",permalink:"/docs/3.0/releasenotes/v1.1/release-1.1.1",draft:!1,tags:[],version:"3.0",frontMatter:{title:"Release 1.1.1",language:"en"},sidebar:"releasenotes",previous:{title:"Release 1.1.2",permalink:"/docs/3.0/releasenotes/v1.1/release-1.1.2"},next:{title:"Release 1.1.0",permalink:"/docs/3.0/releasenotes/v1.1/release-1.1.0"}},s={},c=[{value:"Features",id:"features",level:2},{value:"Support ODBC Sink in Vectorized Engine.",id:"support-odbc-sink-in-vectorized-engine",level:3},{value:"Simple Memtracker for Vectorized Engine.",id:"simple-memtracker-for-vectorized-engine",level:3},{value:"Improvements",id:"improvements",level:2},{value:"Cache decompressed data in page cache.",id:"cache-decompressed-data-in-page-cache",level:3},{value:"Bug Fix",id:"bug-fix",level:2},{value:"Fix the problem that could not do rolling upgrade from 1.0.(Serious)",id:"fix-the-problem-that-could-not-do-rolling-upgrade-from-10serious",level:3},{value:"Fix the problem that some query not fall back to non-vectorized engine, and BE will core.",id:"fix-the-problem-that-some-query-not-fall-back-to-non-vectorized-engine-and-be-will-core",level:3},{value:"Compaction not work correctly and cause -235 Error.",id:"compaction-not-work-correctly-and-cause--235-error",level:3},{value:"Some segment fault cases during query.",id:"some-segment-fault-cases-during-query",level:3}],u={toc:c},d="wrapper";function p(e){let{components:r,...t}=e;return(0,o.yg)(d,(0,n.A)({},u,t,{components:r,mdxType:"MDXLayout"}),(0,o.yg)("h2",{id:"features"},"Features"),(0,o.yg)("h3",{id:"support-odbc-sink-in-vectorized-engine"},"Support ODBC Sink in Vectorized Engine."),(0,o.yg)("p",null,"This feature is enabled in non-vectorized engine but it is missed in vectorized engine in 1.1. So that we add back this feature in 1.1.1."),(0,o.yg)("h3",{id:"simple-memtracker-for-vectorized-engine"},"Simple Memtracker for Vectorized Engine."),(0,o.yg)("p",null,"There is no memtracker in BE for vectorized engine in 1.1, so that the memory is out of control and cause OOM. In 1.1.1, a simple memtracker is added to BE and could control the memory and cancel the query when memory exceeded."),(0,o.yg)("h2",{id:"improvements"},"Improvements"),(0,o.yg)("h3",{id:"cache-decompressed-data-in-page-cache"},"Cache decompressed data in page cache."),(0,o.yg)("p",null,"Some data is compressed using bitshuffle and it costs a lot of time to decompress it during query. In 1.1.1, doris will decompress the data that encoded by bitshuffle to accelerate query and we find it could reduce 30% latency for some query in ssb-flat."),(0,o.yg)("h2",{id:"bug-fix"},"Bug Fix"),(0,o.yg)("h3",{id:"fix-the-problem-that-could-not-do-rolling-upgrade-from-10serious"},"Fix the problem that could not do rolling upgrade from 1.0.(Serious)"),(0,o.yg)("p",null,"This issue was introduced in version 1.1 and may cause BE core when upgrade BE but not upgrade FE."),(0,o.yg)("p",null,"If you encounter this problem, you can try to fix it with ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/apache/doris/pull/10833"},"#10833"),"."),(0,o.yg)("h3",{id:"fix-the-problem-that-some-query-not-fall-back-to-non-vectorized-engine-and-be-will-core"},"Fix the problem that some query not fall back to non-vectorized engine, and BE will core."),(0,o.yg)("p",null,"Currently, vectorized engine could not deal with all sql queries and some queries (like left outer join) will use non-vectorized engine to run. But there are some cases not covered in 1.1. And it will cause be crash."),(0,o.yg)("h3",{id:"compaction-not-work-correctly-and-cause--235-error"},"Compaction not work correctly and cause -235 Error."),(0,o.yg)("p",null,"One rowset multi segments in uniq key compaction, segments rows will be merged in generic_iterator but merged_rows not increased. Compaction will failed in check_correctness, and make a tablet with too much versions which lead to -235 load error."),(0,o.yg)("h3",{id:"some-segment-fault-cases-during-query"},"Some segment fault cases during query."),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://github.com/apache/doris/pull/10961"},"#10961"),"\n",(0,o.yg)("a",{parentName:"p",href:"https://github.com/apache/doris/pull/10954"},"#10954"),"\n",(0,o.yg)("a",{parentName:"p",href:"https://github.com/apache/doris/pull/10962"},"#10962")),(0,o.yg)("h1",{id:"thanks"},"Thanks"),(0,o.yg)("p",null,"Thanks to everyone who has contributed to this release:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"@jacktengg\n@mrhhsg\n@xinyiZzz\n@yixiutt\n@starocean999\n@morrySnow\n@morningman\n@HappenLee\n")))}p.isMDXComponent=!0}}]);