"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[446575],{15680:(e,n,t)=>{t.d(n,{xA:()=>c,yg:()=>m});var a=t(296540);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=a.createContext({}),l=function(e){var n=a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=l(e.components);return a.createElement(u.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},f=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=l(t),f=r,m=p["".concat(u,".").concat(f)]||p[f]||d[f]||i;return t?a.createElement(m,o(o({ref:n},c),{},{components:t})):a.createElement(m,o({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=f;var s={};for(var u in n)hasOwnProperty.call(n,u)&&(s[u]=n[u]);s.originalType=e,s[p]="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=t[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}f.displayName="MDXCreateElement"},750511:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var a=t(58168),r=(t(296540),t(15680));const i={title:"Alias Function",language:"en"},o=void 0,s={unversionedId:"query-data/udf/alias-function",id:"query-data/udf/alias-function",title:"Alias Function",description:"\x3c!--",source:"@site/docs/query-data/udf/alias-function.md",sourceDirName:"query-data/udf",slug:"/query-data/udf/alias-function",permalink:"/docs/dev/query-data/udf/alias-function",draft:!1,tags:[],version:"current",frontMatter:{title:"Alias Function",language:"en"},sidebar:"docs",previous:{title:"Common Table Expression",permalink:"/docs/dev/query-data/cte"},next:{title:"Java UDF",permalink:"/docs/dev/query-data/udf/java-user-defined-function"}},u={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Use Case",id:"use-case",level:2},{value:"Assigning Aliases to Functions",id:"assigning-aliases-to-functions",level:3},{value:"Simplifying Query Statements",id:"simplifying-query-statements",level:3},{value:"Supported Scope",id:"supported-scope",level:2},{value:"Expression Requirements",id:"expression-requirements",level:3},{value:"Parameter Requirements",id:"parameter-requirements",level:3},{value:"More Content",id:"more-content",level:2}],c={toc:l},p="wrapper";function d(e){let{components:n,...t}=e;return(0,r.yg)(p,(0,a.A)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h2",{id:"introduction"},"Introduction"),(0,r.yg)("p",null,"An alias function refers to assigning an alias name to a function. By registering a new signature for a function or expression fragment in the system, it aims to enhance compatibility or increase convenience."),(0,r.yg)("p",null,"Alias functions, like other custom functions, support two scopes: ",(0,r.yg)("inlineCode",{parentName:"p"},"LOCAL")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"GLOBAL"),"."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"LOCAL"),": Alias functions are registered under the current database scope. If the alias function needs to be used under other databases, its fully qualified name should be used, i.e., ",(0,r.yg)("inlineCode",{parentName:"p"},"<Database Name>.<Function Name>"),".")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("inlineCode",{parentName:"p"},"GLOBAL"),": Alias functions are registered under the global scope. They can be directly accessed by their function names under any database."))),(0,r.yg)("h2",{id:"use-case"},"Use Case"),(0,r.yg)("h3",{id:"assigning-aliases-to-functions"},"Assigning Aliases to Functions"),(0,r.yg)("p",null,"This scenario is common in system migration. When users have existing queries targeting other database systems, there may be functions in these queries that have the same functionality as a function in Doris but different names. In this case, by defining a new alias function for this function, migration can be completed without users noticing any changes."),(0,r.yg)("h3",{id:"simplifying-query-statements"},"Simplifying Query Statements"),(0,r.yg)("p",null,"This scenario is often seen in complex analyses. When writing complex query statements, there may be a large number of repetitive expression fragments within a statement or across different statements. By creating an alias function for this complex expression fragment, the query statement can be simplified, enhancing writing convenience and maintainability."),(0,r.yg)("h2",{id:"supported-scope"},"Supported Scope"),(0,r.yg)("h3",{id:"expression-requirements"},"Expression Requirements"),(0,r.yg)("p",null,"Currently, alias functions require that the root node of the actual expression they point to must be a function expression."),(0,r.yg)("p",null,"Legal Examples:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},"-- Create an alias function named func with parameters INT, INT, actually pointing to the expression abs(foo + bar);  \nCREATE ALIAS FUNCTION func(INT, INT) WITH PARAMETER(foo, bar) AS abs(foo + bar);  \n-- Create an alias function named func with parameters DATETIMEV2(3), INT, actually pointing to the expression date_trunc(days_sub(foo, bar), 'day')  \nCREATE ALIAS FUNCTION func(DATETIMEV2(3), INT) WITH PARAMETER (foo, bar) AS date_trunc(days_sub(foo, bar), 'day')\n")),(0,r.yg)("p",null,"Illegal Example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},"-- The root expression is not a function  \nCREATE ALIAS FUNCTION func(INT, INT) WITH PARAMETER(foo, bar) AS foo + bar;\n")),(0,r.yg)("h3",{id:"parameter-requirements"},"Parameter Requirements"),(0,r.yg)("p",null,"Currently, alias functions do not support variable-length parameters and must have at least one parameter."),(0,r.yg)("h2",{id:"more-content"},"More Content"),(0,r.yg)("p",null,"Apart from alias functions, Doris supports Java UDF and UDTF functionalities. For detailed information, please refer to the documentation ",(0,r.yg)("a",{parentName:"p",href:"../../query-data/udf/java-user-defined-function"},"Java UDF"),"."))}d.isMDXComponent=!0}}]);