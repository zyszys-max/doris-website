"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[394096],{15680:(e,n,r)=>{r.d(n,{xA:()=>g,yg:()=>d});var a=r(296540);function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function i(e,n){if(null==e)return{};var r,a,t=function(e,n){if(null==e)return{};var r,a,t={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}var o=a.createContext({}),s=function(e){var n=a.useContext(o),r=n;return e&&(r="function"==typeof e?e(n):p(p({},n),e)),r},g=function(e){var n=s(e.components);return a.createElement(o.Provider,{value:n},e.children)},y="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var r=e.components,t=e.mdxType,l=e.originalType,o=e.parentName,g=i(e,["components","mdxType","originalType","parentName"]),y=s(r),m=t,d=y["".concat(o,".").concat(m)]||y[m]||u[m]||l;return r?a.createElement(d,p(p({ref:n},g),{},{components:r})):a.createElement(d,p({ref:n},g))}));function d(e,n){var r=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var l=r.length,p=new Array(l);p[0]=m;var i={};for(var o in n)hasOwnProperty.call(n,o)&&(i[o]=n[o]);i.originalType=e,i[y]="string"==typeof e?e:t,p[1]=i;for(var s=2;s<l;s++)p[s]=r[s];return a.createElement.apply(null,p)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},53049:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>p,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var a=r(58168),t=(r(296540),r(15680));const l={title:"\u53d1\u7248\u51c6\u5907",language:"zh-CN"},p=void 0,i={unversionedId:"release-and-verify/release-prepare",id:"release-and-verify/release-prepare",title:"\u53d1\u7248\u51c6\u5907",description:"\x3c!--",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs-community/current/release-and-verify/release-prepare.md",sourceDirName:"release-and-verify",slug:"/release-and-verify/release-prepare",permalink:"/zh-CN/community/release-and-verify/release-prepare",draft:!1,tags:[],version:"current",frontMatter:{title:"\u53d1\u7248\u51c6\u5907",language:"zh-CN"},sidebar:"community",previous:{title:"\u7248\u672c\u89c4\u5219",permalink:"/zh-CN/community/release-versioning"},next:{title:"\u53d1\u5e03 Doris \u4e3b\u4ee3\u7801",permalink:"/zh-CN/community/release-and-verify/release-doris-core"}},o={},s=[{value:"\u53d1\u7248\u6d41\u7a0b",id:"\u53d1\u7248\u6d41\u7a0b",level:2},{value:"\u51c6\u5907\u7b7e\u540d",id:"\u51c6\u5907\u7b7e\u540d",level:2},{value:"\u51c6\u5907gpg key",id:"\u51c6\u5907gpg-key",level:3},{value:"\u7b7e\u540d\u8f6f\u4ef6 GnuPG \u7684\u5b89\u88c5\u914d\u7f6e",id:"\u7b7e\u540d\u8f6f\u4ef6-gnupg-\u7684\u5b89\u88c5\u914d\u7f6e",level:4},{value:"GnuPG",id:"gnupg",level:5},{value:"\u5b89\u88c5\u914d\u7f6e",id:"\u5b89\u88c5\u914d\u7f6e",level:5},{value:"\u751f\u6210\u65b0\u7684\u7b7e\u540d",id:"\u751f\u6210\u65b0\u7684\u7b7e\u540d",level:4},{value:"\u51c6\u5907\u7b7e\u540d",id:"\u51c6\u5907\u7b7e\u540d-1",level:5},{value:"\u751f\u6210\u65b0\u7684\u7b7e\u540d",id:"\u751f\u6210\u65b0\u7684\u7b7e\u540d-1",level:5},{value:"\u67e5\u770b\u548c\u8f93\u51fa",id:"\u67e5\u770b\u548c\u8f93\u51fa",level:5},{value:"\u4e0a\u4f20\u7b7e\u540d\u516c\u94a5",id:"\u4e0a\u4f20\u7b7e\u540d\u516c\u94a5",level:4},{value:"\u751f\u6210 fingerprint \u5e76\u4e0a\u4f20\u5230 apache \u7528\u6237\u4fe1\u606f\u4e2d",id:"\u751f\u6210-fingerprint-\u5e76\u4e0a\u4f20\u5230-apache-\u7528\u6237\u4fe1\u606f\u4e2d",level:4},{value:"\u751f\u6210 keys",id:"\u751f\u6210-keys",level:4},{value:"Maven \u53d1\u7248\u51c6\u5907",id:"maven-\u53d1\u7248\u51c6\u5907",level:2},{value:"\u5728\u793e\u533a\u53d1\u8d77 DISCUSS",id:"\u5728\u793e\u533a\u53d1\u8d77-discuss",level:2}],g={toc:s},y="wrapper";function u(e){let{components:n,...r}=e;return(0,t.yg)(y,(0,a.A)({},g,r,{components:n,mdxType:"MDXLayout"}),(0,t.yg)("h1",{id:"\u53d1\u7248\u51c6\u5907"},"\u53d1\u7248\u51c6\u5907"),(0,t.yg)("p",null,"Apache \u9879\u76ee\u7684\u7248\u672c\u53d1\u5e03\u5fc5\u987b\u4e25\u683c\u9075\u5faa Apache \u57fa\u91d1\u4f1a\u7684\u7248\u672c\u53d1\u5e03\u6d41\u7a0b\u3002\u76f8\u5173\u6307\u5bfc\u548c\u653f\u7b56\u53ef\u53c2\u9605\uff1a"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://infra.apache.org/release-publishing"},"Release Creation Process")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://www.apache.org/legal/release-policy.html"},"Release Policy")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"https://infra.apache.org/publishing-maven-artifacts.html"},"Publishing Maven Releases to Maven Central Repository"))),(0,t.yg)("p",null,"\u672c\u6587\u6863\u4e3b\u8981\u8bf4\u660e\u7248\u672c\u53d1\u5e03\u7684\u4e3b\u8981\u6d41\u7a0b\u548c\u524d\u671f\u51c6\u5907\u5de5\u4f5c\u3002\u5177\u4f53 Doris \u5404\u7ec4\u4ef6\u7684\u53d1\u7248\u6b65\u9aa4\uff0c\u53ef\u4ee5\u53c2\u9605\u5404\u81ea\u7684\u6587\u6863\uff1a"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"/zh-CN/community/release-and-verify/release-doris-core"},"Doris Core Release")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"/zh-CN/community/release-and-verify/release-doris-connectors"},"Doris Connectors Release")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"./release-doris-manager.md"},"Doris Manager Release")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"/zh-CN/community/release-and-verify/release-doris-shade"},"Doris Shade Release")),(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("a",{parentName:"li",href:"/zh-CN/community/release-and-verify/release-doris-sdk"},"Doris Sdk Release"))),(0,t.yg)("p",null,"Apache \u9879\u76ee\u7684\u7248\u672c\u53d1\u5e03\u4e3b\u8981\u6709\u4ee5\u4e0b\u4e09\u79cd\u5f62\u5f0f\uff1a"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},(0,t.yg)("strong",{parentName:"li"},"Source Release\uff1a\u5373\u6e90\u7801\u53d1\u5e03\uff0c\u8fd9\u4e2a\u662f\u5fc5\u9009\u9879\u3002")),(0,t.yg)("li",{parentName:"ul"},"Binary Release\uff1a\u5373\u4e8c\u8fdb\u5236\u53d1\u5e03\uff0c\u6bd4\u5982\u53d1\u5e03\u7f16\u8bd1\u597d\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u3002\u8fd9\u4e2a\u662f\u53ef\u9009\u9879\u3002"),(0,t.yg)("li",{parentName:"ul"},"Convenience Binaries\uff1a\u4e3a\u65b9\u4fbf\u7528\u6237\u4f7f\u7528\u800c\u53d1\u5e03\u5230\u7b2c\u4e09\u65b9\u5e73\u53f0\u7684 Release\u3002\u5982Maven\u3001Docker\u7b49\u3002\u8fd9\u4e2a\u4e5f\u662f\u53ef\u9009\u9879\u3002")),(0,t.yg)("h2",{id:"\u53d1\u7248\u6d41\u7a0b"},"\u53d1\u7248\u6d41\u7a0b"),(0,t.yg)("p",null,"\u6bcf\u4e2a\u9879\u76ee\u7684\u53d1\u7248\u90fd\u9700\u8981\u4e00\u4f4d PMC \u6210\u5458\u6216 Committer \u4f5c\u4e3a ",(0,t.yg)("strong",{parentName:"p"},"Release Manager"),"\u3002"),(0,t.yg)("p",null,"\u603b\u4f53\u7684\u53d1\u7248\u6d41\u7a0b\u5982\u4e0b\uff1a"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},"\u73af\u5883\u51c6\u5907"),(0,t.yg)("li",{parentName:"ol"},"\u53d1\u5e03\u51c6\u5907",(0,t.yg)("ol",{parentName:"li"},(0,t.yg)("li",{parentName:"ol"},"\u793e\u533a\u53d1\u8d77 DISCUSS \u5e76\u4e0e\u793e\u533a\u4ea4\u6d41\u5177\u4f53\u53d1\u5e03\u8ba1\u5212"),(0,t.yg)("li",{parentName:"ol"},"\u521b\u5efa\u5206\u652f\u7528\u4e8e\u53d1\u5e03"),(0,t.yg)("li",{parentName:"ol"},"\u6e05\u7406 issue"),(0,t.yg)("li",{parentName:"ol"},"\u5c06\u5fc5\u8981\u7684 Patch \u5408\u5e76\u5230\u53d1\u5e03\u7684\u5206\u652f"))),(0,t.yg)("li",{parentName:"ol"},"\u9a8c\u8bc1\u5206\u652f",(0,t.yg)("ol",{parentName:"li"},(0,t.yg)("li",{parentName:"ol"},"QA \u7a33\u5b9a\u6027\u6d4b\u8bd5"),(0,t.yg)("li",{parentName:"ol"},"\u9a8c\u8bc1\u5206\u652f\u4ee3\u7801\u7684\u7f16\u8bd1\u6d41\u7a0b"),(0,t.yg)("li",{parentName:"ol"},"\u51c6\u5907 Release Notes"))),(0,t.yg)("li",{parentName:"ol"},"\u51c6\u5907\u53d1\u5e03\u6750\u6599",(0,t.yg)("ol",{parentName:"li"},(0,t.yg)("li",{parentName:"ol"},"\u6253 Tag"),(0,t.yg)("li",{parentName:"ol"},"\u5c06\u9700\u8981\u53d1\u5e03\u7684\u5185\u5bb9\u4e0a\u4f20\u81f3 ",(0,t.yg)("a",{parentName:"li",href:"https://dist.apache.org/repos/dist/dev/doris"},"Apache Dev SVN \u4ed3\u5e93")),(0,t.yg)("li",{parentName:"ol"},"\u5176\u4ed6 Convenience Binaries \u7684\u51c6\u5907\uff08\u5982\u4e0a\u4f20\u5230 ",(0,t.yg)("a",{parentName:"li",href:"https://repository.apache.org/#stagingRepositories"},"Maven Staging \u4ed3\u5e93"),"\uff09"))),(0,t.yg)("li",{parentName:"ol"},"\u793e\u533a\u53d1\u5e03\u6295\u7968\u6d41\u7a0b\n2. \u5728 Doris \u793e\u533a Dev \u90ae\u4ef6\u7ec4(",(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("a",{parentName:"strong",href:"mailto:dev@doris.apache.org"},"dev@doris.apache.org")),")\u53d1\u8d77\u6295\u7968\u3002\n3. \u6295\u7968\u901a\u8fc7\u540e\uff0c\u5728 Doris \u793e\u533a\u53d1 Result \u90ae\u4ef6\u3002"),(0,t.yg)("li",{parentName:"ol"},"\u5b8c\u6210\u5de5\u4f5c",(0,t.yg)("ol",{parentName:"li"},(0,t.yg)("li",{parentName:"ol"},"\u4e0a\u4f20\u7b7e\u540d\u7684\u8f6f\u4ef6\u5305\u5230 ",(0,t.yg)("a",{parentName:"li",href:"https://dist.apache.org/repos/dist/release/doris/"},"Apache Release \u4ed3\u5e93"),"\uff0c\u5e76\u751f\u6210\u76f8\u5173\u94fe\u63a5\u3002"),(0,t.yg)("li",{parentName:"ol"},"\u5728 Doris \u5b98\u7f51\u548c github \u53d1\u5e03\u4e0b\u8f7d\u94fe\u63a5\uff0c\u5e76\u4e14\u6e05\u7406 svn \u4e0a\u7684\u65e7\u7248\u672c\u5305\u3002"),(0,t.yg)("li",{parentName:"ol"},"\u53d1\u9001 Announce \u90ae\u4ef6\u5230 ",(0,t.yg)("a",{parentName:"li",href:"mailto:dev@doris.apache.org"},"dev@doris.apache.org"))))),(0,t.yg)("h2",{id:"\u51c6\u5907\u7b7e\u540d"},"\u51c6\u5907\u7b7e\u540d"),(0,t.yg)("p",null,"\u5982\u679c\u8fd9\u662f\u4f60\u7b2c\u4e00\u6b21\u53d1\u5e03\uff0c\u90a3\u4e48\u4f60\u9700\u8981\u5728\u4f60\u7684\u73af\u5883\u4e2d\u51c6\u5907\u5982\u4e0b\u5de5\u5177"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"https://www.apache.org/dev/release-signing.html"},"Release Signing")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"https://www.apache.org/dev/openpgp.html"},"gpg")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"https://www.apache.org/dev/openpgp.html"},"svn"))),(0,t.yg)("h3",{id:"\u51c6\u5907gpg-key"},"\u51c6\u5907gpg key"),(0,t.yg)("p",null,"Release manager \u5728\u53d1\u5e03\u524d\u9700\u8981\u5148\u751f\u6210\u81ea\u5df1\u7684\u7b7e\u540d\u516c\u94a5\uff0c\u5e76\u4e0a\u4f20\u5230\u516c\u94a5\u670d\u52a1\u5668\uff0c\u4e4b\u540e\u5c31\u53ef\u4ee5\u7528\u8fd9\u4e2a\u516c\u94a5\u5bf9\u51c6\u5907\u53d1\u5e03\u7684\u8f6f\u4ef6\u5305\u8fdb\u884c\u7b7e\u540d\u3002\n\u5982\u679c\u5728",(0,t.yg)("a",{parentName:"p",href:"https://downloads.apache.org/doris/KEYS"},"KEY"),"\u91cc\u5df2\u7ecf\u5b58\u5728\u4e86\u4f60\u7684KEY\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e2a\u6b65\u9aa4\u4e86\u3002"),(0,t.yg)("h4",{id:"\u7b7e\u540d\u8f6f\u4ef6-gnupg-\u7684\u5b89\u88c5\u914d\u7f6e"},"\u7b7e\u540d\u8f6f\u4ef6 GnuPG \u7684\u5b89\u88c5\u914d\u7f6e"),(0,t.yg)("h5",{id:"gnupg"},"GnuPG"),(0,t.yg)("p",null,"1991\u5e74\uff0c\u7a0b\u5e8f\u5458 Phil Zimmermann \u4e3a\u4e86\u907f\u5f00\u653f\u5e9c\u76d1\u89c6\uff0c\u5f00\u53d1\u4e86\u52a0\u5bc6\u8f6f\u4ef6PGP\u3002\u8fd9\u4e2a\u8f6f\u4ef6\u975e\u5e38\u597d\u7528\uff0c\u8fc5\u901f\u6d41\u4f20\u5f00\u6765\uff0c\u6210\u4e86\u8bb8\u591a\u7a0b\u5e8f\u5458\u7684\u5fc5\u5907\u5de5\u5177\u3002\u4f46\u662f\uff0c\u5b83\u662f\u5546\u4e1a\u8f6f\u4ef6\uff0c\u4e0d\u80fd\u81ea\u7531\u4f7f\u7528\u3002\u6240\u4ee5\uff0c\u81ea\u7531\u8f6f\u4ef6\u57fa\u91d1\u4f1a\u51b3\u5b9a\uff0c\u5f00\u53d1\u4e00\u4e2aPGP\u7684\u66ff\u4ee3\u54c1\uff0c\u53d6\u540d\u4e3aGnuPG\u3002\u8fd9\u5c31\u662fGPG\u7684\u7531\u6765\u3002"),(0,t.yg)("h5",{id:"\u5b89\u88c5\u914d\u7f6e"},"\u5b89\u88c5\u914d\u7f6e"),(0,t.yg)("p",null,"CentOS \u5b89\u88c5\u547d\u4ee4\uff1a"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"yum install gnupg\n")),(0,t.yg)("p",null,"\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6 gpg.conf \u4f1a\u653e\u5728 home \u76ee\u5f55\u4e0b\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"~/.gnupg/gpg.conf\n")),(0,t.yg)("p",null,"\u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u4e2a\u76ee\u5f55\u6216\u6587\u4ef6\uff0c\u53ef\u4ee5\u76f4\u63a5\u521b\u5efa\u4e00\u4e2a\u7a7a\u6587\u4ef6\u3002"),(0,t.yg)("p",null,"Apache \u7b7e\u540d\u63a8\u8350 SHA512\uff0c \u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e gpg \u5b8c\u6210\u3002\n\u7f16\u8f91gpg.conf, \u589e\u52a0\u4e0b\u9762\u7684\u4e09\u884c\uff1a"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"personal-digest-preferences SHA512\ncert-digest-algo SHA512\ndefault-preference-list SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 ZLIB BZIP2 ZIP Uncompressed\n")),(0,t.yg)("h4",{id:"\u751f\u6210\u65b0\u7684\u7b7e\u540d"},"\u751f\u6210\u65b0\u7684\u7b7e\u540d"),(0,t.yg)("h5",{id:"\u51c6\u5907\u7b7e\u540d-1"},"\u51c6\u5907\u7b7e\u540d"),(0,t.yg)("p",null,"\u63a8\u8350\u7684\u751f\u6210\u65b0\u7b7e\u540d\u7684\u8bbe\u7f6e\uff1a"),(0,t.yg)("p",null,"\u8fd9\u91cc\u5fc5\u987b\u901a\u8fc7 SecureCRT \u7b49\u7ec8\u7aef\u76f4\u63a5\u767b\u5f55\u7528\u6237\u8d26\u6237\uff0c\u4e0d\u80fd\u901a\u8fc7 su - user \u6216\u8005 ssh \u8f6c\uff0c\u5426\u5219\u5bc6\u7801\u8f93\u5165 box \u4f1a\u663e\u793a\u4e0d\u51fa\u6765\u800c\u62a5\u9519\u3002"),(0,t.yg)("p",null,"\u5148\u770b\u4e0b gpg \u7684 version \u4ee5\u53ca\u662f\u5426\u652f\u6301 SHA512."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"$ gpg --version\ngpg (GnuPG) 2.0.22\nlibgcrypt 1.5.3\nCopyright (C) 2013 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nHome: ~/.gnupg\nSupported algorithms:\nPubkey: RSA, ?, ?, ELG, DSA\nCipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,\n        CAMELLIA128, CAMELLIA192, CAMELLIA256\nHash: MD5, SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224\nCompression: Uncompressed, ZIP, ZLIB, BZIP2\n")),(0,t.yg)("h5",{id:"\u751f\u6210\u65b0\u7684\u7b7e\u540d-1"},"\u751f\u6210\u65b0\u7684\u7b7e\u540d"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"$ gpg --gen-key\ngpg (GnuPG) 2.0.22; Copyright (C) 2013 Free Software Foundation, Inc.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nPlease select what kind of key you want:\n   (1) RSA and RSA (default)\n   (2) DSA and Elgamal\n   (3) DSA (sign only)\n   (4) RSA (sign only)\nYour selection? 1\nRSA keys may be between 1024 and 4096 bits long.\nWhat keysize do you want? (2048) 4096\nRequested keysize is 4096 bits\nPlease specify how long the key should be valid.\n         0 = key does not expire\n      <n>  = key expires in n days\n      <n>w = key expires in n weeks\n      <n>m = key expires in n months\n      <n>y = key expires in n years\nKey is valid for? (0)\nKey does not expire at all\nIs this correct? (y/N) y\n\nGnuPG needs to construct a user ID to identify your key.\n\nReal name: xxx\nName must be at least 5 characters long\nReal name: xxx-yyy\nEmail address: xxx@apache.org\nComment: xxx's key\nYou selected this USER-ID:\n    \"xxx-yyy (xxx's key) <xxx@apache.org>\"\n\nChange (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o\n")),(0,t.yg)("p",null,"\u5176\u4e2d Real name \u9700\u4fdd\u6301\u548c id.apache.org \u4e2d\u663e\u793a\u7684 id \u4e00\u81f4\u3002\nEmail address \u4e3a apache \u7684\u90ae\u7bb1\u3002"),(0,t.yg)("p",null,"\u8f93\u5165 passphrase, \u4e00\u5171\u8981\u8f93\u5165\u4e24\u904d\uff0c\u8d85\u8fc78\u4e2a\u5b57\u7b26\u5373\u53ef\u3002"),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"\u8fd9\u91cc\u7684\u79d8\u94a5\u4e00\u5b9a\u8981\u8bb0\u4f4f\uff0c\u540e\u9762\u7b7e\u540d\u7684\u65f6\u5019\u4f1a\u7528\u5230\u3002\u540c\u65f6\u4e5f\u4f1a\u7528\u4e8e\u5176\u4ed6\u7ec4\u4ef6\u7684\u53d1\u5e03")),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"\u5982\u679c ",(0,t.yg)("inlineCode",{parentName:"strong"},"gpg --gen-key")," \u547d\u4ee4\u5361\u4f4f\u5f88\u4e45\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u6253\u5f00\u53e6\u4e00\u7ec8\u7aef\u540e\uff0c\u6267\u884c ",(0,t.yg)("inlineCode",{parentName:"strong"},"find / | xargs file")," \u547d\u4ee4\u6765\u4ea7\u751f\u8db3\u591f\u591a\u7684\u968f\u673a\u5b57\u7b26\uff0c\u901a\u5e38\u5728\u51e0\u5206\u949f\u540e\uff0cgpg\u547d\u4ee4\u5c31\u4f1a\u5b8c\u6210\u3002")),(0,t.yg)("blockquote",null,(0,t.yg)("p",{parentName:"blockquote"},(0,t.yg)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a")),(0,t.yg)("p",{parentName:"blockquote"},"\u5982\u679c\u5728\u751f\u6210\u53ef\u4ee5\u7684\u65f6\u5019\u51fa\u73b0\u5361\u4f4f\uff0c\u957f\u65f6\u95f4\u4e0d\u80fd\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6848\u89e3\u51b3\uff1a"),(0,t.yg)("p",{parentName:"blockquote"},"\u5b89\u88c5 rng-tools \u8fd9\u4e2a\u5de5\u5177\uff0c\u901a\u8fc7 ",(0,t.yg)("inlineCode",{parentName:"p"},"yum install rng-tools")," \u5b8c\u6210\u5b89\u88c5\u3002\n\u4e4b\u540e\u518d\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u7a97\u53e3\u6267\u884c\u547d\u4ee4\uff1arngd -r /dev/urandom\uff0c\u751f\u6210\u5bc6\u94a5\u5c31\u80fd\u77ac\u95f4\u5b8c\u6210\u4e86\u3002")),(0,t.yg)("h5",{id:"\u67e5\u770b\u548c\u8f93\u51fa"},"\u67e5\u770b\u548c\u8f93\u51fa"),(0,t.yg)("p",null,'\u7b2c\u4e00\u884c\u663e\u793a\u516c\u94a5\u6587\u4ef6\u540d\uff08pubring.gpg\uff09\uff0c\u7b2c\u4e8c\u884c\u663e\u793a\u516c\u94a5\u7279\u5f81\uff084096\u4f4d\uff0cHash\u5b57\u7b26\u4e32\u548c\u751f\u6210\u65f6\u95f4\uff09\uff0c\u7b2c\u4e09\u884c\u663e\u793a"\u7528\u6237ID"\uff0c\u6ce8\u91ca\uff0c\u90ae\u4ef6\uff0c\u7b2c\u56db\u884c\u663e\u793a\u79c1\u94a5\u7279\u5f81\u3002'),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"$ gpg --list-keys\n/home/lide/.gnupg/pubring.gpg\n-----------------------------\npub   4096R/33DBF2E0 2018-12-06\nuid                  xxx-yyy  (xxx's key) <xxx@apache.org>\nsub   4096R/0E8182E6 2018-12-06\n")),(0,t.yg)("p",null,"\u5176\u4e2d xxx-yyy \u5c31\u662f\u7528\u6237ID\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"gpg --armor --output public-key.txt --export [\u7528\u6237ID]\n")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"$ gpg --armor --output public-key.txt --export xxx-yyy\n\u6587\u4ef6\u2018public-key.txt\u2019\u5df2\u5b58\u5728\u3002 \u662f\u5426\u8986\u76d6\uff1f(y/N)y\n$ cat public-key.txt\n-----BEGIN PGP PUBLIC KEY BLOCK-----\nVersion: GnuPG v2.0.22 (GNU/Linux)\n\nmQINBFwJEQ0BEACwqLluHfjBqD/RWZ4uoYxNYHlIzZvbvxAlwS2mn53BirLIU/G3\n9opMWNplvmK+3+gNlRlFpiZ7EvHsF/YJOAP59HmI2Z...\n")),(0,t.yg)("h4",{id:"\u4e0a\u4f20\u7b7e\u540d\u516c\u94a5"},"\u4e0a\u4f20\u7b7e\u540d\u516c\u94a5"),(0,t.yg)("p",null,"\u516c\u94a5\u670d\u52a1\u5668\u662f\u7f51\u7edc\u4e0a\u4e13\u95e8\u50a8\u5b58\u7528\u6237\u516c\u94a5\u7684\u670d\u52a1\u5668\u3002send-keys \u53c2\u6570\u53ef\u4ee5\u5c06\u516c\u94a5\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"gpg --send-keys xxxx --keyserver https://keyserver.ubuntu.com/\n\n")),(0,t.yg)("p",null,"\u5176\u4e2d xxxx \u4e3a\u4e0a\u4e00\u6b65 ",(0,t.yg)("inlineCode",{parentName:"p"},"--list-keys")," \u7ed3\u679c\u4e2d pub \u540e\u9762\u7684\u5b57\u7b26\u4e32\uff0c\u5982\u4e0a\u4e3a\uff1a33DBF2E0"),(0,t.yg)("p",null,"\u4e5f\u53ef\u4ee5\u901a\u8fc7",(0,t.yg)("a",{parentName:"p",href:"https://keyserver.ubuntu.com/"},"https://keyserver.ubuntu.com/"),"\u4e0a\u4f20\u4e0a\u8ff0 public-key.txt \u7684\u5185\u5bb9\uff1a"),(0,t.yg)("p",null,"\u4e0a\u4f20\u6210\u529f\u4e4b\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u67e5\u8be2\u8fd9\u4e2a",(0,t.yg)("a",{parentName:"p",href:"https://keyserver.ubuntu.com/"},"https://keyserver.ubuntu.com/"),"\uff0c\u8f93\u5165 0x33DBF2E0 \u67e5\u8be2\u3002\uff08\u6ce8\u610f\u9700\u8981\u4ee5 0x \u5f00\u5934\uff09"),(0,t.yg)("p",null,"\u8be5\u7f51\u7ad9\u67e5\u8be2\u6709\u5ef6\u8fdf\uff0c\u53ef\u80fd\u9700\u8981\u7b491\u4e2a\u5c0f\u65f6\u3002"),(0,t.yg)("h4",{id:"\u751f\u6210-fingerprint-\u5e76\u4e0a\u4f20\u5230-apache-\u7528\u6237\u4fe1\u606f\u4e2d"},"\u751f\u6210 fingerprint \u5e76\u4e0a\u4f20\u5230 apache \u7528\u6237\u4fe1\u606f\u4e2d"),(0,t.yg)("p",null,"\u7531\u4e8e\u516c\u94a5\u670d\u52a1\u5668\u6ca1\u6709\u68c0\u67e5\u673a\u5236\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u7528\u4f60\u7684\u540d\u4e49\u4e0a\u4f20\u516c\u94a5\uff0c\u6240\u4ee5\u6ca1\u6709\u529e\u6cd5\u4fdd\u8bc1\u670d\u52a1\u5668\u4e0a\u7684\u516c\u94a5\u7684\u53ef\u9760\u6027\u3002\u901a\u5e38\uff0c\u4f60\u53ef\u4ee5\u5728\u7f51\u7ad9\u4e0a\u516c\u5e03\u4e00\u4e2a\u516c\u94a5\u6307\u7eb9\uff0c\u8ba9\u5176\u4ed6\u4eba\u6838\u5bf9\u4e0b\u8f7d\u5230\u7684\u516c\u94a5\u662f\u5426\u4e3a\u771f\u3002"),(0,t.yg)("p",null,"fingerprint\u53c2\u6570\u751f\u6210\u516c\u94a5\u6307\u7eb9\uff1a"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"gpg --fingerprint [\u7528\u6237ID]\n")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"$ gpg --fingerprint xxx-yyy\npub   4096R/33DBF2E0 2018-12-06\n      Key fingerprint = 07AA E690 B01D 1A4B 469B  0BEF 5E29 CE39 33DB F2E0\nuid                  xxx-yyy (xxx's key) <xxx@apache.org>\nsub   4096R/0E8182E6 2018-12-06\n")),(0,t.yg)("p",null,"\u5c06\u4e0a\u9762\u7684 fingerprint \uff08\u5373 07AA E690 B01D 1A4B 469B  0BEF 5E29 CE39 33DB F2E0\uff09\u7c98\u8d34\u5230\u81ea\u5df1\u7684\u7528\u6237\u4fe1\u606f\u4e2d\uff1a"),(0,t.yg)("p",null,(0,t.yg)("a",{parentName:"p",href:"https://id.apache.org"},"https://id.apache.org")),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"OpenPGP Public Key Primary Fingerprint:")),(0,t.yg)("blockquote",null,(0,t.yg)("p",{parentName:"blockquote"},"\u6ce8\uff1a\u6bcf\u4e2a\u4eba\u53ef\u4ee5\u6709\u591a\u4e2a Public Key\u3002")),(0,t.yg)("h4",{id:"\u751f\u6210-keys"},"\u751f\u6210 keys"),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"\u6ce8\u610f\u4e0d\u8981\u5220\u9664 KEYS \u6587\u4ef6\u4e2d\u5df2\u6709\u7684\u5185\u5bb9\uff0c\u8fd9\u80fd\u8ffd\u52a0\u65b0\u589e")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},'svn co https://dist.apache.org/repos/dist/dev/doris/\n# edit doris/KEYS file\ngpg --list-sigs [\u7528\u6237 ID] >> doris/KEYS\ngpg --armor --export [\u7528\u6237 ID] >> doris/KEYS\nsvn ci --username $ASF_USERNAME --password "$ASF_PASSWORD" -m"Update KEYS"\n')),(0,t.yg)("p",null,"\u6ce8\u610f\uff0cKEYS \u6587\u4ef6\u8981\u540c\u65f6\u53d1\u5e03\u5230\u5982\u4e0b svn \u5e93\u3002"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},'svn co https://dist.apache.org/repos/dist/release/doris\n# edit doris/KEYS file\nsvn ci --username $ASF_USERNAME --password "$ASF_PASSWORD" -m"Update KEYS"\n')),(0,t.yg)("p",null,"\u4e4b\u540e\u4f1a\u81ea\u52a8\u540c\u6b65\u5230\uff1a"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"https://downloads.apache.org/doris/KEYS\n")),(0,t.yg)("p",null,"\u5728\u540e\u7eed\u7684\u53d1\u7248\u6295\u7968\u90ae\u4ef6\u4e2d\uff0c\u8981\u4f7f\u7528 ",(0,t.yg)("inlineCode",{parentName:"p"},"https://downloads.apache.org/doris/KEYS")," \u8fd9\u91cc\u7684 KEYS \u6587\u4ef6\u3002"),(0,t.yg)("h2",{id:"maven-\u53d1\u7248\u51c6\u5907"},"Maven \u53d1\u7248\u51c6\u5907"),(0,t.yg)("p",null,"\u5bf9\u4e8e Doris Connector \u7b49\u7ec4\u4ef6\uff0c\u9700\u8981\u4f7f\u7528 maven \u8fdb\u884c\u7248\u672c\u53d1\u5e03\u3002"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"\u751f\u6210\u4e3b\u5bc6\u7801"),(0,t.yg)("p",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"p"},"mvn --encrypt-master-password <password>")),(0,t.yg)("p",{parentName:"li"},"\u8fd9\u4e2a\u5bc6\u7801\u4ec5\u7528\u4f5c\u52a0\u5bc6\u540e\u7eed\u7684\u5176\u4ed6\u5bc6\u7801\u4f7f\u7528, \u8f93\u51fa\u7c7b\u4f3c ",(0,t.yg)("inlineCode",{parentName:"p"},"{VSb+6+76djkH/43...}")),(0,t.yg)("p",{parentName:"li"},"\u4e4b\u540e\u521b\u5efa ",(0,t.yg)("inlineCode",{parentName:"p"},"~/.m2/settings-security.xml")," \u6587\u4ef6\uff0c\u5185\u5bb9\u662f"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre"},"<settingsSecurity>\n  <master>{VSb+6+76djkH/43...}</master>\n</settingsSecurity>\n"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"\u52a0\u5bc6 apache \u5bc6\u7801"),(0,t.yg)("p",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"p"},"mvn --encrypt-password <password>")),(0,t.yg)("p",{parentName:"li"},"\u8fd9\u4e2a\u5bc6\u7801\u662fapache \u8d26\u53f7\u7684\u5bc6\u7801 \u8f93\u51fa\u548c\u4e0a\u9762\u7c7b\u4f3c",(0,t.yg)("inlineCode",{parentName:"p"},"{GRKbCylpwysHfV...}")),(0,t.yg)("p",{parentName:"li"},"\u5728 ",(0,t.yg)("inlineCode",{parentName:"p"},"~/.m2/settings.xml")," \u4e2d\u52a0\u5165"),(0,t.yg)("pre",{parentName:"li"},(0,t.yg)("code",{parentName:"pre"},"<servers>\n  \x3c!-- To publish a snapshot of your project --\x3e\n  <server>\n    <id>apache.snapshots.https</id>\n    <username>yangzhg</username>\n    <password>{GRKbCylpwysHfV...}</password>\n  </server>\n  \x3c!-- To stage a release of your project --\x3e\n  <server>\n    <id>apache.releases.https</id>\n    <username>yangzhg</username>\n    <password>{GRKbCylpwysHfV...}</password>\n  </server>\n</servers>\n")))),(0,t.yg)("h2",{id:"\u5728\u793e\u533a\u53d1\u8d77-discuss"},"\u5728\u793e\u533a\u53d1\u8d77 DISCUSS"),(0,t.yg)("p",null,"DISCUSS \u5e76\u4e0d\u662f\u53d1\u7248\u524d\u7684\u5fc5\u987b\u6d41\u7a0b\uff0c\u4f46\u5f3a\u70c8\u5efa\u8bae\u5728\u91cd\u8981\u7248\u672c\u53d1\u5e03\u524d\uff0c\u5728 dev@doris \u90ae\u4ef6\u7ec4\u53d1\u8d77\u8ba8\u8bba\u3002\u5185\u5bb9\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u91cd\u8981\u529f\u80fd\u7684\u8bf4\u660e\u3001Bug\u4fee\u590d\u8bf4\u660e\u7b49\u3002"))}u.isMDXComponent=!0}}]);