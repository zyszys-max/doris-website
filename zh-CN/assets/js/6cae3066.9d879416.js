"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[721665],{15680:(n,e,t)=>{t.d(e,{xA:()=>i,yg:()=>U});var L=t(296540);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(n);e&&(L=L.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,L)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function r(n,e){if(null==n)return{};var t,L,a=function(n,e){if(null==n)return{};var t,L,a={},l=Object.keys(n);for(L=0;L<l.length;L++)t=l[L],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(L=0;L<l.length;L++)t=l[L],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var o=L.createContext({}),N=function(n){var e=L.useContext(o),t=e;return n&&(t="function"==typeof n?n(e):s(s({},e),n)),t},i=function(n){var e=N(n.components);return L.createElement(o.Provider,{value:e},n.children)},c="mdxType",u={inlineCode:"code",wrapper:function(n){var e=n.children;return L.createElement(L.Fragment,{},e)}},k=L.forwardRef((function(n,e){var t=n.components,a=n.mdxType,l=n.originalType,o=n.parentName,i=r(n,["components","mdxType","originalType","parentName"]),c=N(t),k=a,U=c["".concat(o,".").concat(k)]||c[k]||u[k]||l;return t?L.createElement(U,s(s({ref:e},i),{},{components:t})):L.createElement(U,s({ref:e},i))}));function U(n,e){var t=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var l=t.length,s=new Array(l);s[0]=k;var r={};for(var o in e)hasOwnProperty.call(e,o)&&(r[o]=e[o]);r.originalType=n,r[c]="string"==typeof n?n:a,s[1]=r;for(var N=2;N<l;N++)s[N]=t[N];return L.createElement.apply(null,s)}return L.createElement.apply(null,t)}k.displayName="MDXCreateElement"},171892:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>N});var L=t(58168),a=(t(296540),t(15680));const l={title:"JSONB",language:"zh-CN"},s=void 0,r={unversionedId:"sql-manual/sql-reference/Data-Types/JSONB",id:"version-1.2/sql-manual/sql-reference/Data-Types/JSONB",title:"JSONB",description:"\x3c!--",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-1.2/sql-manual/sql-reference/Data-Types/JSONB.md",sourceDirName:"sql-manual/sql-reference/Data-Types",slug:"/sql-manual/sql-reference/Data-Types/JSONB",permalink:"/zh-CN/docs/1.2/sql-manual/sql-reference/Data-Types/JSONB",draft:!1,tags:[],version:"1.2",frontMatter:{title:"JSONB",language:"zh-CN"},sidebar:"docs",previous:{title:"ARRAY",permalink:"/zh-CN/docs/1.2/sql-manual/sql-reference/Data-Types/ARRAY"},next:{title:"IN",permalink:"/zh-CN/docs/1.2/sql-manual/sql-reference/Operators/in"}},o={},N=[{value:"JSONB",id:"jsonb",level:2},{value:"description",id:"description",level:3},{value:"note",id:"note",level:3},{value:"example",id:"example",level:3},{value:"\u521b\u5efa\u5e93\u8868",id:"\u521b\u5efa\u5e93\u8868",level:4},{value:"\u5bfc\u5165\u6570\u636e",id:"\u5bfc\u5165\u6570\u636e",level:4},{value:"stream load \u5bfc\u5165test_jsonb.csv\u6d4b\u8bd5\u6570\u636e",id:"stream-load-\u5bfc\u5165test_jsonbcsv\u6d4b\u8bd5\u6570\u636e",level:5},{value:"insert into \u63d2\u5165\u6570\u636e",id:"insert-into-\u63d2\u5165\u6570\u636e",level:5},{value:"\u67e5\u8be2",id:"\u67e5\u8be2",level:4},{value:"\u7528jsonb_extract\u53d6json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5",id:"\u7528jsonb_extract\u53d6json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5",level:5},{value:"\u7528jsonb_exists_path\u68c0\u67e5json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5\u662f\u5426\u5b58\u5728",id:"\u7528jsonb_exists_path\u68c0\u67e5json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5\u662f\u5426\u5b58\u5728",level:5},{value:"\u7528jsonb_type\u83b7\u53d6json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5\u7684\u7c7b\u578b",id:"\u7528jsonb_type\u83b7\u53d6json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5\u7684\u7c7b\u578b",level:5},{value:"keywords",id:"keywords",level:3}],i={toc:N},c="wrapper";function u(n){let{components:e,...t}=n;return(0,a.yg)(c,(0,L.A)({},i,t,{components:e,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"jsonb"},"JSONB"),(0,a.yg)("p",null,"JSONB"),(0,a.yg)("h3",{id:"description"},"description"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"JSONB(JSON Binary)\u7c7b\u578b\n    \u4e8c\u8fdb\u5236JSON\u7c7b\u578b\uff0c\u91c7\u7528\u4e8c\u8fdb\u5236JSONB\u683c\u5f0f\u5b58\u50a8\uff0c\u901a\u8fc7jsonb\u51fd\u6570\u8bbf\u95eeJSON\u5185\u90e8\u5b57\u6bb5\u3002\u6700\u5927\uff08\u9ed8\u8ba4\uff09\u652f\u63011048576 \u5b57\u8282\uff081MB\uff09\uff0cJSONB\u7c7b\u578b\u8fd8\u53d7be\u914d\u7f6e`jsonb_type_length_soft_limit_bytes`\u9650\u5236\n")),(0,a.yg)("h3",{id:"note"},"note"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"\u4e0e\u666e\u901aSTRING\u7c7b\u578b\u5b58\u50a8\u7684JSON\u5b57\u7b26\u4e32\u76f8\u6bd4\uff0cJSONB\u7c7b\u578b\u6709\u4e24\u70b9\u4f18\u52bf\n1. \u6570\u636e\u5199\u5165\u65f6\u8fdb\u884cJSON\u683c\u5f0f\u6821\u9a8c\n2. \u4e8c\u8fdb\u5236\u5b58\u50a8\u683c\u5f0f\u66f4\u52a0\u9ad8\u6548\uff0c\u901a\u8fc7jsonb_extract\u7b49\u51fd\u6570\u53ef\u4ee5\u9ad8\u6548\u8bbf\u95eeJSON\u5185\u90e8\u5b57\u6bb5\uff0c\u6bd4get_json_xx\u51fd\u6570\u5feb\u51e0\u500d\n")),(0,a.yg)("h3",{id:"example"},"example"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},"\u7528\u4e00\u4e2a\u4ece\u5efa\u8868\u3001\u5bfc\u6570\u636e\u3001\u67e5\u8be2\u5168\u5468\u671f\u7684\u4f8b\u5b50\u8bf4\u660eJSONB\u6570\u636e\u7c7b\u578b\u7684\u529f\u80fd\u548c\u7528\u6cd5\u3002\n")),(0,a.yg)("h4",{id:"\u521b\u5efa\u5e93\u8868"},"\u521b\u5efa\u5e93\u8868"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'CREATE DATABASE testdb;\n\nUSE testdb;\n\nCREATE TABLE test_jsonb (\n  id INT,\n  j JSONB\n)\nDUPLICATE KEY(id)\nDISTRIBUTED BY HASH(id) BUCKETS 10\nPROPERTIES("replication_num" = "1");\n')),(0,a.yg)("h4",{id:"\u5bfc\u5165\u6570\u636e"},"\u5bfc\u5165\u6570\u636e"),(0,a.yg)("h5",{id:"stream-load-\u5bfc\u5165test_jsonbcsv\u6d4b\u8bd5\u6570\u636e"},"stream load \u5bfc\u5165test_jsonb.csv\u6d4b\u8bd5\u6570\u636e"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"\u6d4b\u8bd5\u6570\u636e\u67092\u5217\uff0c\u7b2c\u4e00\u5217id\uff0c\u7b2c\u4e8c\u5217\u662fjson"),(0,a.yg)("li",{parentName:"ul"},"\u6d4b\u8bd5\u6570\u636e\u670925\u884c\uff0c\u5176\u4e2d\u524d18\u884c\u7684json\u662f\u5408\u6cd5\u7684\uff0c\u540e7\u884c\u7684json\u662f\u975e\u6cd5\u7684")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'1   \\N\n2   null\n3   true\n4   false\n5   100\n6   10000\n7   1000000000\n8   1152921504606846976\n9   6.18\n10  "abcd"\n11  {}\n12  {"k1":"v31", "k2": 300}\n13  []\n14  [123, 456]\n15  ["abc", "def"]\n16  [null, true, false, 100, 6.18, "abc"]\n17  [{"k1":"v41", "k2": 400}, 1, "a", 3.14]\n18  {"k1":"v31", "k2": 300, "a1": [{"k1":"v41", "k2": 400}, 1, "a", 3.14]}\n19  \'\'\n20  \'abc\'\n21  abc\n22  100x\n23  6.a8\n24  {x\n25  [123, abc]\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},'\u7531\u4e8e\u670928%\u7684\u975e\u6cd5\u6570\u636e\uff0c\u9ed8\u8ba4\u4f1a\u5931\u8d25\u62a5\u9519 "too many filtered rows"')),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'curl --location-trusted -u root: -T test_jsonb.csv http://127.0.0.1:8840/api/testdb/test_jsonb/_stream_load\n{\n    "TxnId": 12019,\n    "Label": "744d9821-9c9f-43dc-bf3b-7ab048f14e32",\n    "TwoPhaseCommit": "false",\n    "Status": "Fail",\n    "Message": "too many filtered rows",\n    "NumberTotalRows": 25,\n    "NumberLoadedRows": 18,\n    "NumberFilteredRows": 7,\n    "NumberUnselectedRows": 0,\n    "LoadBytes": 380,\n    "LoadTimeMs": 48,\n    "BeginTxnTimeMs": 0,\n    "StreamLoadPutTimeMs": 1,\n    "ReadDataTimeMs": 0,\n    "WriteDataTimeMs": 45,\n    "CommitAndPublishTimeMs": 0,\n    "ErrorURL": "http://172.21.0.5:8840/api/_load_error_log?file=__shard_2/error_log_insert_stmt_95435c4bf5f156df-426735082a9296af_95435c4bf5f156df_426735082a9296af"\n}\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"\u8bbe\u7f6e\u5bb9\u9519\u7387\u53c2\u6570 'max_filter_ratio: 0.3'")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'curl --location-trusted -u root: -H \'max_filter_ratio: 0.3\' -T test_jsonb.csv http://127.0.0.1:8840/api/testdb/test_jsonb/_stream_load\n{\n    "TxnId": 12017,\n    "Label": "f37a50c1-43e9-4f4e-a159-a3db6abe2579",\n    "TwoPhaseCommit": "false",\n    "Status": "Success",\n    "Message": "OK",\n    "NumberTotalRows": 25,\n    "NumberLoadedRows": 18,\n    "NumberFilteredRows": 7,\n    "NumberUnselectedRows": 0,\n    "LoadBytes": 380,\n    "LoadTimeMs": 68,\n    "BeginTxnTimeMs": 0,\n    "StreamLoadPutTimeMs": 2,\n    "ReadDataTimeMs": 0,\n    "WriteDataTimeMs": 45,\n    "CommitAndPublishTimeMs": 19,\n    "ErrorURL": "http://172.21.0.5:8840/api/_load_error_log?file=__shard_0/error_log_insert_stmt_a1463f98a7b15caf-c79399b920f5bfa3_a1463f98a7b15caf_c79399b920f5bfa3"\n}\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"\u67e5\u770bstream load\u5bfc\u5165\u7684\u6570\u636e\uff0cJSONB\u7c7b\u578b\u7684\u5217j\u4f1a\u81ea\u52a8\u8f6c\u6210JSON string\u5c55\u793a")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT * FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+\n| id   | j                                                             |\n+------+---------------------------------------------------------------+\n|    1 |                                                          NULL |\n|    2 |                                                          null |\n|    3 |                                                          true |\n|    4 |                                                         false |\n|    5 |                                                           100 |\n|    6 |                                                         10000 |\n|    7 |                                                    1000000000 |\n|    8 |                                           1152921504606846976 |\n|    9 |                                                          6.18 |\n|   10 |                                                        "abcd" |\n|   11 |                                                            {} |\n|   12 |                                         {"k1":"v31","k2":300} |\n|   13 |                                                            [] |\n|   14 |                                                     [123,456] |\n|   15 |                                                 ["abc","def"] |\n|   16 |                              [null,true,false,100,6.18,"abc"] |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |\n+------+---------------------------------------------------------------+\n18 rows in set (0.03 sec)\n\n')),(0,a.yg)("h5",{id:"insert-into-\u63d2\u5165\u6570\u636e"},"insert into \u63d2\u5165\u6570\u636e"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"insert 1\u6761\u6570\u636e\uff0c\u603b\u6570\u636e\u4ece18\u6761\u589e\u52a0\u523019\u6761")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> INSERT INTO test_jsonb VALUES(26, \'{"k1":"v1", "k2": 200}\');\nQuery OK, 1 row affected (0.09 sec)\n{\'label\':\'insert_4ece6769d1b42fd_ac9f25b3b8f3dc02\', \'status\':\'VISIBLE\', \'txnId\':\'12016\'}\n\nmysql> SELECT * FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+\n| id   | j                                                             |\n+------+---------------------------------------------------------------+\n|    1 |                                                          NULL |\n|    2 |                                                          null |\n|    3 |                                                          true |\n|    4 |                                                         false |\n|    5 |                                                           100 |\n|    6 |                                                         10000 |\n|    7 |                                                    1000000000 |\n|    8 |                                           1152921504606846976 |\n|    9 |                                                          6.18 |\n|   10 |                                                        "abcd" |\n|   11 |                                                            {} |\n|   12 |                                         {"k1":"v31","k2":300} |\n|   13 |                                                            [] |\n|   14 |                                                     [123,456] |\n|   15 |                                                 ["abc","def"] |\n|   16 |                              [null,true,false,100,6.18,"abc"] |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |\n|   26 |                                          {"k1":"v1","k2":200} |\n+------+---------------------------------------------------------------+\n19 rows in set (0.03 sec)\n\n')),(0,a.yg)("h4",{id:"\u67e5\u8be2"},"\u67e5\u8be2"),(0,a.yg)("h5",{id:"\u7528jsonb_extract\u53d6json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5"},"\u7528jsonb_extract\u53d6json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"\u83b7\u53d6\u6574\u4e2ajson\uff0c$ \u5728json path\u4e2d\u4ee3\u8868root\uff0c\u5373\u6574\u4e2ajson")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'+------+---------------------------------------------------------------+---------------------------------------------------------------+\n| id   | j                                                             | jsonb_extract(`j`, \'$\')                                       |\n+------+---------------------------------------------------------------+---------------------------------------------------------------+\n|    1 |                                                          NULL |                                                          NULL |\n|    2 |                                                          null |                                                          null |\n|    3 |                                                          true |                                                          true |\n|    4 |                                                         false |                                                         false |\n|    5 |                                                           100 |                                                           100 |\n|    6 |                                                         10000 |                                                         10000 |\n|    7 |                                                    1000000000 |                                                    1000000000 |\n|    8 |                                           1152921504606846976 |                                           1152921504606846976 |\n|    9 |                                                          6.18 |                                                          6.18 |\n|   10 |                                                        "abcd" |                                                        "abcd" |\n|   11 |                                                            {} |                                                            {} |\n|   12 |                                         {"k1":"v31","k2":300} |                                         {"k1":"v31","k2":300} |\n|   13 |                                                            [] |                                                            [] |\n|   14 |                                                     [123,456] |                                                     [123,456] |\n|   15 |                                                 ["abc","def"] |                                                 ["abc","def"] |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                              [null,true,false,100,6.18,"abc"] |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                            [{"k1":"v41","k2":400},1,"a",3.14] |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |\n|   26 |                                          {"k1":"v1","k2":200} |                                          {"k1":"v1","k2":200} |\n+------+---------------------------------------------------------------+---------------------------------------------------------------+\n19 rows in set (0.03 sec)\n')),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"\u83b7\u53d6k1\u5b57\u6bb5\uff0c\u6ca1\u6709k1\u5b57\u6bb5\u7684\u884c\u8fd4\u56deNULL")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract(j, \'$.k1\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+----------------------------+\n| id   | j                                                             | jsonb_extract(`j`, \'$.k1\') |\n+------+---------------------------------------------------------------+----------------------------+\n|    1 |                                                          NULL |                       NULL |\n|    2 |                                                          null |                       NULL |\n|    3 |                                                          true |                       NULL |\n|    4 |                                                         false |                       NULL |\n|    5 |                                                           100 |                       NULL |\n|    6 |                                                         10000 |                       NULL |\n|    7 |                                                    1000000000 |                       NULL |\n|    8 |                                           1152921504606846976 |                       NULL |\n|    9 |                                                          6.18 |                       NULL |\n|   10 |                                                        "abcd" |                       NULL |\n|   11 |                                                            {} |                       NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                      "v31" |\n|   13 |                                                            [] |                       NULL |\n|   14 |                                                     [123,456] |                       NULL |\n|   15 |                                                 ["abc","def"] |                       NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                       NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                       NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                      "v31" |\n|   26 |                                          {"k1":"v1","k2":200} |                       "v1" |\n+------+---------------------------------------------------------------+----------------------------+\n19 rows in set (0.03 sec)\n')),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"\u83b7\u53d6\u9876\u5c42\u6570\u7ec4\u7684\u7b2c0\u4e2a\u5143\u7d20")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract(j, \'$[0]\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+----------------------------+\n| id   | j                                                             | jsonb_extract(`j`, \'$[0]\') |\n+------+---------------------------------------------------------------+----------------------------+\n|    1 |                                                          NULL |                       NULL |\n|    2 |                                                          null |                       NULL |\n|    3 |                                                          true |                       NULL |\n|    4 |                                                         false |                       NULL |\n|    5 |                                                           100 |                       NULL |\n|    6 |                                                         10000 |                       NULL |\n|    7 |                                                    1000000000 |                       NULL |\n|    8 |                                           1152921504606846976 |                       NULL |\n|    9 |                                                          6.18 |                       NULL |\n|   10 |                                                        "abcd" |                       NULL |\n|   11 |                                                            {} |                       NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                       NULL |\n|   13 |                                                            [] |                       NULL |\n|   14 |                                                     [123,456] |                        123 |\n|   15 |                                                 ["abc","def"] |                      "abc" |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                       null |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |      {"k1":"v41","k2":400} |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                       NULL |\n|   26 |                                          {"k1":"v1","k2":200} |                       NULL |\n+------+---------------------------------------------------------------+----------------------------+\n19 rows in set (0.03 sec)\n')),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"\u83b7\u53d6\u6574\u4e2ajson array")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract(j, \'$.a1\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+------------------------------------+\n| id   | j                                                             | jsonb_extract(`j`, \'$.a1\')         |\n+------+---------------------------------------------------------------+------------------------------------+\n|    1 |                                                          NULL |                               NULL |\n|    2 |                                                          null |                               NULL |\n|    3 |                                                          true |                               NULL |\n|    4 |                                                         false |                               NULL |\n|    5 |                                                           100 |                               NULL |\n|    6 |                                                         10000 |                               NULL |\n|    7 |                                                    1000000000 |                               NULL |\n|    8 |                                           1152921504606846976 |                               NULL |\n|    9 |                                                          6.18 |                               NULL |\n|   10 |                                                        "abcd" |                               NULL |\n|   11 |                                                            {} |                               NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                               NULL |\n|   13 |                                                            [] |                               NULL |\n|   14 |                                                     [123,456] |                               NULL |\n|   15 |                                                 ["abc","def"] |                               NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                               NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                               NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} | [{"k1":"v41","k2":400},1,"a",3.14] |\n|   26 |                                          {"k1":"v1","k2":200} |                               NULL |\n+------+---------------------------------------------------------------+------------------------------------+\n19 rows in set (0.02 sec)\n')),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"\u83b7\u53d6json array\u4e2d\u5d4c\u5957object\u7684\u5b57\u6bb5")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract(j, \'$.a1[0]\'), jsonb_extract(j, \'$.a1[0].k1\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+-------------------------------+----------------------------------+\n| id   | j                                                             | jsonb_extract(`j`, \'$.a1[0]\') | jsonb_extract(`j`, \'$.a1[0].k1\') |\n+------+---------------------------------------------------------------+-------------------------------+----------------------------------+\n|    1 |                                                          NULL |                          NULL |                             NULL |\n|    2 |                                                          null |                          NULL |                             NULL |\n|    3 |                                                          true |                          NULL |                             NULL |\n|    4 |                                                         false |                          NULL |                             NULL |\n|    5 |                                                           100 |                          NULL |                             NULL |\n|    6 |                                                         10000 |                          NULL |                             NULL |\n|    7 |                                                    1000000000 |                          NULL |                             NULL |\n|    8 |                                           1152921504606846976 |                          NULL |                             NULL |\n|    9 |                                                          6.18 |                          NULL |                             NULL |\n|   10 |                                                        "abcd" |                          NULL |                             NULL |\n|   11 |                                                            {} |                          NULL |                             NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                          NULL |                             NULL |\n|   13 |                                                            [] |                          NULL |                             NULL |\n|   14 |                                                     [123,456] |                          NULL |                             NULL |\n|   15 |                                                 ["abc","def"] |                          NULL |                             NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                          NULL |                             NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                          NULL |                             NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |         {"k1":"v41","k2":400} |                            "v41" |\n|   26 |                                          {"k1":"v1","k2":200} |                          NULL |                             NULL |\n+------+---------------------------------------------------------------+-------------------------------+----------------------------------+\n19 rows in set (0.02 sec)\n\n')),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"\u83b7\u53d6\u5177\u4f53\u7c7b\u578b\u7684")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"jsonb_extract_string \u83b7\u53d6string\u7c7b\u578b\u5b57\u6bb5\uff0c\u975estring\u7c7b\u578b\u8f6c\u6210string")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract_string(j, \'$\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+---------------------------------------------------------------+\n| id   | j                                                             | jsonb_extract_string(`j`, \'$\')                                |\n+------+---------------------------------------------------------------+---------------------------------------------------------------+\n|    1 | NULL                                                          | NULL                                                          |\n|    2 | null                                                          | null                                                          |\n|    3 | true                                                          | true                                                          |\n|    4 | false                                                         | false                                                         |\n|    5 | 100                                                           | 100                                                           |\n|    6 | 10000                                                         | 10000                                                         |\n|    7 | 1000000000                                                    | 1000000000                                                    |\n|    8 | 1152921504606846976                                           | 1152921504606846976                                           |\n|    9 | 6.18                                                          | 6.18                                                          |\n|   10 | "abcd"                                                        | abcd                                                          |\n|   11 | {}                                                            | {}                                                            |\n|   12 | {"k1":"v31","k2":300}                                         | {"k1":"v31","k2":300}                                         |\n|   13 | []                                                            | []                                                            |\n|   14 | [123,456]                                                     | [123,456]                                                     |\n|   15 | ["abc","def"]                                                 | ["abc","def"]                                                 |\n|   16 | [null,true,false,100,6.18,"abc"]                              | [null,true,false,100,6.18,"abc"]                              |\n|   17 | [{"k1":"v41","k2":400},1,"a",3.14]                            | [{"k1":"v41","k2":400},1,"a",3.14]                            |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |\n|   26 | {"k1":"v1","k2":200}                                          | {"k1":"v1","k2":200}                                          |\n+------+---------------------------------------------------------------+---------------------------------------------------------------+\n19 rows in set (0.02 sec)\n\nmysql> SELECT id, j, jsonb_extract_string(j, \'$.k1\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+-----------------------------------+\n| id   | j                                                             | jsonb_extract_string(`j`, \'$.k1\') |\n+------+---------------------------------------------------------------+-----------------------------------+\n|    1 |                                                          NULL | NULL                              |\n|    2 |                                                          null | NULL                              |\n|    3 |                                                          true | NULL                              |\n|    4 |                                                         false | NULL                              |\n|    5 |                                                           100 | NULL                              |\n|    6 |                                                         10000 | NULL                              |\n|    7 |                                                    1000000000 | NULL                              |\n|    8 |                                           1152921504606846976 | NULL                              |\n|    9 |                                                          6.18 | NULL                              |\n|   10 |                                                        "abcd" | NULL                              |\n|   11 |                                                            {} | NULL                              |\n|   12 |                                         {"k1":"v31","k2":300} | v31                               |\n|   13 |                                                            [] | NULL                              |\n|   14 |                                                     [123,456] | NULL                              |\n|   15 |                                                 ["abc","def"] | NULL                              |\n|   16 |                              [null,true,false,100,6.18,"abc"] | NULL                              |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] | NULL                              |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} | v31                               |\n|   26 |                                          {"k1":"v1","k2":200} | v1                                |\n+------+---------------------------------------------------------------+-----------------------------------+\n19 rows in set (0.03 sec)\n\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"jsonb_extract_int \u83b7\u53d6int\u7c7b\u578b\u5b57\u6bb5\uff0c\u975eint\u7c7b\u578b\u8fd4\u56deNULL")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract_int(j, \'$\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+-----------------------------+\n| id   | j                                                             | jsonb_extract_int(`j`, \'$\') |\n+------+---------------------------------------------------------------+-----------------------------+\n|    1 |                                                          NULL |                        NULL |\n|    2 |                                                          null |                        NULL |\n|    3 |                                                          true |                        NULL |\n|    4 |                                                         false |                        NULL |\n|    5 |                                                           100 |                         100 |\n|    6 |                                                         10000 |                       10000 |\n|    7 |                                                    1000000000 |                  1000000000 |\n|    8 |                                           1152921504606846976 |                        NULL |\n|    9 |                                                          6.18 |                        NULL |\n|   10 |                                                        "abcd" |                        NULL |\n|   11 |                                                            {} |                        NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                        NULL |\n|   13 |                                                            [] |                        NULL |\n|   14 |                                                     [123,456] |                        NULL |\n|   15 |                                                 ["abc","def"] |                        NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                        NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                        NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                        NULL |\n|   26 |                                          {"k1":"v1","k2":200} |                        NULL |\n+------+---------------------------------------------------------------+-----------------------------+\n19 rows in set (0.02 sec)\n\nmysql> SELECT id, j, jsonb_extract_int(j, \'$.k2\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+--------------------------------+\n| id   | j                                                             | jsonb_extract_int(`j`, \'$.k2\') |\n+------+---------------------------------------------------------------+--------------------------------+\n|    1 |                                                          NULL |                           NULL |\n|    2 |                                                          null |                           NULL |\n|    3 |                                                          true |                           NULL |\n|    4 |                                                         false |                           NULL |\n|    5 |                                                           100 |                           NULL |\n|    6 |                                                         10000 |                           NULL |\n|    7 |                                                    1000000000 |                           NULL |\n|    8 |                                           1152921504606846976 |                           NULL |\n|    9 |                                                          6.18 |                           NULL |\n|   10 |                                                        "abcd" |                           NULL |\n|   11 |                                                            {} |                           NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                            300 |\n|   13 |                                                            [] |                           NULL |\n|   14 |                                                     [123,456] |                           NULL |\n|   15 |                                                 ["abc","def"] |                           NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                           NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                           NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                            300 |\n|   26 |                                          {"k1":"v1","k2":200} |                            200 |\n+------+---------------------------------------------------------------+--------------------------------+\n19 rows in set (0.03 sec)\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"jsonb_extract_bigint \u83b7\u53d6bigint\u7c7b\u578b\u5b57\u6bb5\uff0c\u975ebigint\u7c7b\u578b\u8fd4\u56deNULL")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract_bigint(j, \'$\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+--------------------------------+\n| id   | j                                                             | jsonb_extract_bigint(`j`, \'$\') |\n+------+---------------------------------------------------------------+--------------------------------+\n|    1 |                                                          NULL |                           NULL |\n|    2 |                                                          null |                           NULL |\n|    3 |                                                          true |                           NULL |\n|    4 |                                                         false |                           NULL |\n|    5 |                                                           100 |                            100 |\n|    6 |                                                         10000 |                          10000 |\n|    7 |                                                    1000000000 |                     1000000000 |\n|    8 |                                           1152921504606846976 |            1152921504606846976 |\n|    9 |                                                          6.18 |                           NULL |\n|   10 |                                                        "abcd" |                           NULL |\n|   11 |                                                            {} |                           NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                           NULL |\n|   13 |                                                            [] |                           NULL |\n|   14 |                                                     [123,456] |                           NULL |\n|   15 |                                                 ["abc","def"] |                           NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                           NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                           NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                           NULL |\n|   26 |                                          {"k1":"v1","k2":200} |                           NULL |\n+------+---------------------------------------------------------------+--------------------------------+\n19 rows in set (0.03 sec)\n\nmysql> SELECT id, j, jsonb_extract_bigint(j, \'$.k2\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+-----------------------------------+\n| id   | j                                                             | jsonb_extract_bigint(`j`, \'$.k2\') |\n+------+---------------------------------------------------------------+-----------------------------------+\n|    1 |                                                          NULL |                              NULL |\n|    2 |                                                          null |                              NULL |\n|    3 |                                                          true |                              NULL |\n|    4 |                                                         false |                              NULL |\n|    5 |                                                           100 |                              NULL |\n|    6 |                                                         10000 |                              NULL |\n|    7 |                                                    1000000000 |                              NULL |\n|    8 |                                           1152921504606846976 |                              NULL |\n|    9 |                                                          6.18 |                              NULL |\n|   10 |                                                        "abcd" |                              NULL |\n|   11 |                                                            {} |                              NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                               300 |\n|   13 |                                                            [] |                              NULL |\n|   14 |                                                     [123,456] |                              NULL |\n|   15 |                                                 ["abc","def"] |                              NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                              NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                              NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                               300 |\n|   26 |                                          {"k1":"v1","k2":200} |                               200 |\n+------+---------------------------------------------------------------+-----------------------------------+\n19 rows in set (0.02 sec)\n\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"jsonb_extract_double \u83b7\u53d6double\u7c7b\u578b\u5b57\u6bb5\uff0c\u975edouble\u7c7b\u578b\u8fd4\u56deNULL")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract_double(j, \'$\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+--------------------------------+\n| id   | j                                                             | jsonb_extract_double(`j`, \'$\') |\n+------+---------------------------------------------------------------+--------------------------------+\n|    1 |                                                          NULL |                           NULL |\n|    2 |                                                          null |                           NULL |\n|    3 |                                                          true |                           NULL |\n|    4 |                                                         false |                           NULL |\n|    5 |                                                           100 |                            100 |\n|    6 |                                                         10000 |                          10000 |\n|    7 |                                                    1000000000 |                     1000000000 |\n|    8 |                                           1152921504606846976 |          1.152921504606847e+18 |\n|    9 |                                                          6.18 |                           6.18 |\n|   10 |                                                        "abcd" |                           NULL |\n|   11 |                                                            {} |                           NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                           NULL |\n|   13 |                                                            [] |                           NULL |\n|   14 |                                                     [123,456] |                           NULL |\n|   15 |                                                 ["abc","def"] |                           NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                           NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                           NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                           NULL |\n|   26 |                                          {"k1":"v1","k2":200} |                           NULL |\n+------+---------------------------------------------------------------+--------------------------------+\n19 rows in set (0.02 sec)\n\nmysql> SELECT id, j, jsonb_extract_double(j, \'$.k2\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+-----------------------------------+\n| id   | j                                                             | jsonb_extract_double(`j`, \'$.k2\') |\n+------+---------------------------------------------------------------+-----------------------------------+\n|    1 |                                                          NULL |                              NULL |\n|    2 |                                                          null |                              NULL |\n|    3 |                                                          true |                              NULL |\n|    4 |                                                         false |                              NULL |\n|    5 |                                                           100 |                              NULL |\n|    6 |                                                         10000 |                              NULL |\n|    7 |                                                    1000000000 |                              NULL |\n|    8 |                                           1152921504606846976 |                              NULL |\n|    9 |                                                          6.18 |                              NULL |\n|   10 |                                                        "abcd" |                              NULL |\n|   11 |                                                            {} |                              NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                               300 |\n|   13 |                                                            [] |                              NULL |\n|   14 |                                                     [123,456] |                              NULL |\n|   15 |                                                 ["abc","def"] |                              NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                              NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                              NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                               300 |\n|   26 |                                          {"k1":"v1","k2":200} |                               200 |\n+------+---------------------------------------------------------------+-----------------------------------+\n19 rows in set (0.03 sec)\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"jsonb_extract_bool \u83b7\u53d6bool\u7c7b\u578b\u5b57\u6bb5\uff0c\u975ebool\u7c7b\u578b\u8fd4\u56deNULL")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract_bool(j, \'$\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+------------------------------+\n| id   | j                                                             | jsonb_extract_bool(`j`, \'$\') |\n+------+---------------------------------------------------------------+------------------------------+\n|    1 |                                                          NULL |                         NULL |\n|    2 |                                                          null |                         NULL |\n|    3 |                                                          true |                            1 |\n|    4 |                                                         false |                            0 |\n|    5 |                                                           100 |                         NULL |\n|    6 |                                                         10000 |                         NULL |\n|    7 |                                                    1000000000 |                         NULL |\n|    8 |                                           1152921504606846976 |                         NULL |\n|    9 |                                                          6.18 |                         NULL |\n|   10 |                                                        "abcd" |                         NULL |\n|   11 |                                                            {} |                         NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                         NULL |\n|   13 |                                                            [] |                         NULL |\n|   14 |                                                     [123,456] |                         NULL |\n|   15 |                                                 ["abc","def"] |                         NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                         NULL |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                         NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                         NULL |\n|   26 |                                          {"k1":"v1","k2":200} |                         NULL |\n+------+---------------------------------------------------------------+------------------------------+\n19 rows in set (0.01 sec)\n\nmysql> SELECT id, j, jsonb_extract_bool(j, \'$[1]\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+---------------------------------+\n| id   | j                                                             | jsonb_extract_bool(`j`, \'$[1]\') |\n+------+---------------------------------------------------------------+---------------------------------+\n|    1 |                                                          NULL |                            NULL |\n|    2 |                                                          null |                            NULL |\n|    3 |                                                          true |                            NULL |\n|    4 |                                                         false |                            NULL |\n|    5 |                                                           100 |                            NULL |\n|    6 |                                                         10000 |                            NULL |\n|    7 |                                                    1000000000 |                            NULL |\n|    8 |                                           1152921504606846976 |                            NULL |\n|    9 |                                                          6.18 |                            NULL |\n|   10 |                                                        "abcd" |                            NULL |\n|   11 |                                                            {} |                            NULL |\n|   12 |                                         {"k1":"v31","k2":300} |                            NULL |\n|   13 |                                                            [] |                            NULL |\n|   14 |                                                     [123,456] |                            NULL |\n|   15 |                                                 ["abc","def"] |                            NULL |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                               1 |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                            NULL |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                            NULL |\n|   26 |                                          {"k1":"v1","k2":200} |                            NULL |\n+------+---------------------------------------------------------------+---------------------------------+\n19 rows in set (0.01 sec)\n')),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"jsonb_extract_isnull \u83b7\u53d6json null\u7c7b\u578b\u5b57\u6bb5\uff0cnull\u8fd4\u56de1\uff0c\u975enull\u8fd4\u56de0"),(0,a.yg)("li",{parentName:"ul"},"\u9700\u8981\u6ce8\u610f\u7684\u662fjson null\u548cSQL NULL\u4e0d\u4e00\u6837\uff0cSQL NULL\u8868\u793a\u67d0\u4e2a\u5b57\u6bb5\u7684\u503c\u4e0d\u5b58\u5728\uff0c\u800cjson null\u8868\u793a\u503c\u5b58\u5728\u4f46\u662f\u662f\u4e00\u4e2a\u7279\u6b8a\u503cnull")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_extract_isnull(j, \'$\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+--------------------------------+\n| id   | j                                                             | jsonb_extract_isnull(`j`, \'$\') |\n+------+---------------------------------------------------------------+--------------------------------+\n|    1 |                                                          NULL |                           NULL |\n|    2 |                                                          null |                              1 |\n|    3 |                                                          true |                              0 |\n|    4 |                                                         false |                              0 |\n|    5 |                                                           100 |                              0 |\n|    6 |                                                         10000 |                              0 |\n|    7 |                                                    1000000000 |                              0 |\n|    8 |                                           1152921504606846976 |                              0 |\n|    9 |                                                          6.18 |                              0 |\n|   10 |                                                        "abcd" |                              0 |\n|   11 |                                                            {} |                              0 |\n|   12 |                                         {"k1":"v31","k2":300} |                              0 |\n|   13 |                                                            [] |                              0 |\n|   14 |                                                     [123,456] |                              0 |\n|   15 |                                                 ["abc","def"] |                              0 |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                              0 |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                              0 |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                              0 |\n|   26 |                                          {"k1":"v1","k2":200} |                              0 |\n+------+---------------------------------------------------------------+--------------------------------+\n19 rows in set (0.03 sec)\n\n')),(0,a.yg)("h5",{id:"\u7528jsonb_exists_path\u68c0\u67e5json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5\u662f\u5426\u5b58\u5728"},"\u7528jsonb_exists_path\u68c0\u67e5json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5\u662f\u5426\u5b58\u5728"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_exists_path(j, \'$\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+-----------------------------+\n| id   | j                                                             | jsonb_exists_path(`j`, \'$\') |\n+------+---------------------------------------------------------------+-----------------------------+\n|    1 |                                                          NULL |                        NULL |\n|    2 |                                                          null |                           1 |\n|    3 |                                                          true |                           1 |\n|    4 |                                                         false |                           1 |\n|    5 |                                                           100 |                           1 |\n|    6 |                                                         10000 |                           1 |\n|    7 |                                                    1000000000 |                           1 |\n|    8 |                                           1152921504606846976 |                           1 |\n|    9 |                                                          6.18 |                           1 |\n|   10 |                                                        "abcd" |                           1 |\n|   11 |                                                            {} |                           1 |\n|   12 |                                         {"k1":"v31","k2":300} |                           1 |\n|   13 |                                                            [] |                           1 |\n|   14 |                                                     [123,456] |                           1 |\n|   15 |                                                 ["abc","def"] |                           1 |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                           1 |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                           1 |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                           1 |\n|   26 |                                          {"k1":"v1","k2":200} |                           1 |\n+------+---------------------------------------------------------------+-----------------------------+\n19 rows in set (0.02 sec)\n\nmysql> SELECT id, j, jsonb_exists_path(j, \'$.k1\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+--------------------------------+\n| id   | j                                                             | jsonb_exists_path(`j`, \'$.k1\') |\n+------+---------------------------------------------------------------+--------------------------------+\n|    1 |                                                          NULL |                           NULL |\n|    2 |                                                          null |                              0 |\n|    3 |                                                          true |                              0 |\n|    4 |                                                         false |                              0 |\n|    5 |                                                           100 |                              0 |\n|    6 |                                                         10000 |                              0 |\n|    7 |                                                    1000000000 |                              0 |\n|    8 |                                           1152921504606846976 |                              0 |\n|    9 |                                                          6.18 |                              0 |\n|   10 |                                                        "abcd" |                              0 |\n|   11 |                                                            {} |                              0 |\n|   12 |                                         {"k1":"v31","k2":300} |                              1 |\n|   13 |                                                            [] |                              0 |\n|   14 |                                                     [123,456] |                              0 |\n|   15 |                                                 ["abc","def"] |                              0 |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                              0 |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                              0 |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                              1 |\n|   26 |                                          {"k1":"v1","k2":200} |                              1 |\n+------+---------------------------------------------------------------+--------------------------------+\n19 rows in set (0.03 sec)\n\nmysql> SELECT id, j, jsonb_exists_path(j, \'$[2]\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+--------------------------------+\n| id   | j                                                             | jsonb_exists_path(`j`, \'$[2]\') |\n+------+---------------------------------------------------------------+--------------------------------+\n|    1 |                                                          NULL |                           NULL |\n|    2 |                                                          null |                              0 |\n|    3 |                                                          true |                              0 |\n|    4 |                                                         false |                              0 |\n|    5 |                                                           100 |                              0 |\n|    6 |                                                         10000 |                              0 |\n|    7 |                                                    1000000000 |                              0 |\n|    8 |                                           1152921504606846976 |                              0 |\n|    9 |                                                          6.18 |                              0 |\n|   10 |                                                        "abcd" |                              0 |\n|   11 |                                                            {} |                              0 |\n|   12 |                                         {"k1":"v31","k2":300} |                              0 |\n|   13 |                                                            [] |                              0 |\n|   14 |                                                     [123,456] |                              0 |\n|   15 |                                                 ["abc","def"] |                              0 |\n|   16 |                              [null,true,false,100,6.18,"abc"] |                              1 |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] |                              1 |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} |                              0 |\n|   26 |                                          {"k1":"v1","k2":200} |                              0 |\n+------+---------------------------------------------------------------+--------------------------------+\n19 rows in set (0.02 sec)\n\n\n')),(0,a.yg)("h5",{id:"\u7528jsonb_type\u83b7\u53d6json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5\u7684\u7c7b\u578b"},"\u7528jsonb_type\u83b7\u53d6json\u5185\u7684\u67d0\u4e2a\u5b57\u6bb5\u7684\u7c7b\u578b"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"\u8fd4\u56dejson path\u5bf9\u5e94\u7684json\u5b57\u6bb5\u7c7b\u578b\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u8fd4\u56deNULL")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre"},'mysql> SELECT id, j, jsonb_type(j, \'$\') FROM test_jsonb ORDER BY id;\n+------+---------------------------------------------------------------+----------------------+\n| id   | j                                                             | jsonb_type(`j`, \'$\') |\n+------+---------------------------------------------------------------+----------------------+\n|    1 |                                                          NULL | NULL                 |\n|    2 |                                                          null | null                 |\n|    3 |                                                          true | bool                 |\n|    4 |                                                         false | bool                 |\n|    5 |                                                           100 | int                  |\n|    6 |                                                         10000 | int                  |\n|    7 |                                                    1000000000 | int                  |\n|    8 |                                           1152921504606846976 | bigint               |\n|    9 |                                                          6.18 | double               |\n|   10 |                                                        "abcd" | string               |\n|   11 |                                                            {} | object               |\n|   12 |                                         {"k1":"v31","k2":300} | object               |\n|   13 |                                                            [] | array                |\n|   14 |                                                     [123,456] | array                |\n|   15 |                                                 ["abc","def"] | array                |\n|   16 |                              [null,true,false,100,6.18,"abc"] | array                |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] | array                |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} | object               |\n|   26 |                                          {"k1":"v1","k2":200} | object               |\n+------+---------------------------------------------------------------+----------------------+\n19 rows in set (0.02 sec)\n\nmysql> select id, j, jsonb_type(j, \'$.k1\') from test_jsonb order by id;\n+------+---------------------------------------------------------------+-------------------------+\n| id   | j                                                             | jsonb_type(`j`, \'$.k1\') |\n+------+---------------------------------------------------------------+-------------------------+\n|    1 |                                                          NULL | NULL                    |\n|    2 |                                                          null | NULL                    |\n|    3 |                                                          true | NULL                    |\n|    4 |                                                         false | NULL                    |\n|    5 |                                                           100 | NULL                    |\n|    6 |                                                         10000 | NULL                    |\n|    7 |                                                    1000000000 | NULL                    |\n|    8 |                                           1152921504606846976 | NULL                    |\n|    9 |                                                          6.18 | NULL                    |\n|   10 |                                                        "abcd" | NULL                    |\n|   11 |                                                            {} | NULL                    |\n|   12 |                                         {"k1":"v31","k2":300} | string                  |\n|   13 |                                                            [] | NULL                    |\n|   14 |                                                     [123,456] | NULL                    |\n|   15 |                                                 ["abc","def"] | NULL                    |\n|   16 |                              [null,true,false,100,6.18,"abc"] | NULL                    |\n|   17 |                            [{"k1":"v41","k2":400},1,"a",3.14] | NULL                    |\n|   18 | {"k1":"v31","k2":300,"a1":[{"k1":"v41","k2":400},1,"a",3.14]} | string                  |\n|   26 |                                          {"k1":"v1","k2":200} | string                  |\n+------+---------------------------------------------------------------+-------------------------+\n19 rows in set (0.03 sec)\n\n')),(0,a.yg)("h3",{id:"keywords"},"keywords"),(0,a.yg)("p",null,"JSONB, JSON, jsonb_parse, jsonb_parse_error_to_null, jsonb_parse_error_to_value, jsonb_extract, jsonb_extract_isnull, jsonb_extract_bool, jsonb_extract_int, jsonb_extract_bigint, jsonb_extract_double, jsonb_extract_string, jsonb_exists_path, jsonb_type"))}u.isMDXComponent=!0}}]);