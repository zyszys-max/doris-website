"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[849842],{15680:(e,n,t)=>{t.d(n,{xA:()=>E,yg:()=>c});var a=t(296540);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function T(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=a.createContext({}),s=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},E=function(e){var n=s(e.components);return a.createElement(o.Provider,{value:n},e.children)},u="mdxType",N={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},p=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,E=T(e,["components","mdxType","originalType","parentName"]),u=s(t),p=r,c=u["".concat(o,".").concat(p)]||u[p]||N[p]||l;return t?a.createElement(c,i(i({ref:n},E),{},{components:t})):a.createElement(c,i({ref:n},E))}));function c(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=p;var T={};for(var o in n)hasOwnProperty.call(n,o)&&(T[o]=n[o]);T.originalType=e,T[u]="string"==typeof e?e:r,i[1]=T;for(var s=2;s<l;s++)i[s]=t[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},119365:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(296540),r=t(320053);const l={tabItem:"tabItem_Ymn6"};function i(e){let{children:n,hidden:t,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.A)(l.tabItem,i),hidden:t},n)}},411470:(e,n,t)=>{t.d(n,{A:()=>O});var a=t(58168),r=t(296540),l=t(320053),i=t(823104),T=t(956347),o=t(757485),s=t(231682),E=t(289466);function u(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:n,label:t,attributes:a,default:r}}=e;return{value:n,label:t,attributes:a,default:r}}))}function N(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??u(t);return function(e){const n=(0,s.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function c(e){let{queryString:n=!1,groupId:t}=e;const a=(0,T.W6)(),l=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o.aZ)(l),(0,r.useCallback)((e=>{if(!l)return;const n=new URLSearchParams(a.location.search);n.set(l,e),a.replace({...a.location,search:n.toString()})}),[l,a])]}function A(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,l=N(e),[i,T]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=t.find((e=>e.default))??t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:l}))),[o,s]=c({queryString:t,groupId:a}),[u,A]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,l]=(0,E.Dv)(t);return[a,(0,r.useCallback)((e=>{t&&l.set(e)}),[t,l])]}({groupId:a}),m=(()=>{const e=o??u;return p({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{m&&T(m)}),[m]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);T(e),s(e),A(e)}),[s,A,l]),tabValues:l}}var m=t(992303);const d={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function I(e){let{className:n,block:t,selectedValue:T,selectValue:o,tabValues:s}=e;const E=[],{blockElementScrollPositionUntilNextRender:u}=(0,i.a_)(),N=e=>{const n=e.currentTarget,t=E.indexOf(n),a=s[t].value;a!==T&&(u(n),o(a))},p=e=>{let n=null;switch(e.key){case"Enter":N(e);break;case"ArrowRight":{const t=E.indexOf(e.currentTarget)+1;n=E[t]??E[0];break}case"ArrowLeft":{const t=E.indexOf(e.currentTarget)-1;n=E[t]??E[E.length-1];break}}n?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":t},n)},s.map((e=>{let{value:n,label:t,attributes:i}=e;return r.createElement("li",(0,a.A)({role:"tab",tabIndex:T===n?0:-1,"aria-selected":T===n,key:n,ref:e=>E.push(e),onKeyDown:p,onClick:N},i,{className:(0,l.A)("tabs__item",d.tabItem,i?.className,{"tabs__item--active":T===n})}),t??n)})))}function g(e){let{lazy:n,children:t,selectedValue:a}=e;const l=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=l.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a}))))}function y(e){const n=A(e);return r.createElement("div",{className:(0,l.A)("tabs-container",d.tabList)},r.createElement(I,(0,a.A)({},e,n)),r.createElement(g,(0,a.A)({},e,n)))}function O(e){const n=(0,m.A)();return r.createElement(y,(0,a.A)({key:String(n)},e))}},524752:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>E,contentTitle:()=>o,default:()=>c,frontMatter:()=>T,metadata:()=>s,toc:()=>u});var a=t(58168),r=(t(296540),t(15680)),l=t(411470),i=t(119365);const T={title:"\u57fa\u672c\u6982\u5ff5",language:"zh-CN"},o=void 0,s={unversionedId:"table-design/data-partitioning/basic-concepts",id:"version-3.0/table-design/data-partitioning/basic-concepts",title:"\u57fa\u672c\u6982\u5ff5",description:"\x3c!--",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/version-3.0/table-design/data-partitioning/basic-concepts.md",sourceDirName:"table-design/data-partitioning",slug:"/table-design/data-partitioning/basic-concepts",permalink:"/zh-CN/docs/3.0/table-design/data-partitioning/basic-concepts",draft:!1,tags:[],version:"3.0",frontMatter:{title:"\u57fa\u672c\u6982\u5ff5",language:"zh-CN"},sidebar:"docs",previous:{title:"\u884c\u5217\u6df7\u5b58",permalink:"/zh-CN/docs/3.0/table-design/row-store"},next:{title:"\u624b\u52a8\u5206\u533a",permalink:"/zh-CN/docs/3.0/table-design/data-partitioning/manual-partitioning"}},E={},u=[{value:"Row &amp; Column",id:"row--column",level:2},{value:"\u5206\u533a\u548c\u5206\u6876\uff08Partition &amp; Bucket\uff09",id:"\u5206\u533a\u548c\u5206\u6876partition--bucket",level:2},{value:"\u5206\u533a",id:"\u5206\u533a",level:3},{value:"\u5206\u6876",id:"\u5206\u6876",level:3},{value:"\u5efa\u8868\u4e3e\u4f8b",id:"\u5efa\u8868\u4e3e\u4f8b",level:2},{value:"\u9ad8\u7ea7\u7279\u6027\u4e0e\u793a\u4f8b",id:"\u9ad8\u7ea7\u7279\u6027\u4e0e\u793a\u4f8b",level:3},{value:"\u67e5\u770b\u5206\u533a\u4fe1\u606f",id:"\u67e5\u770b\u5206\u533a\u4fe1\u606f",level:2},{value:"\u4fee\u6539\u5206\u533a\u4fe1\u606f",id:"\u4fee\u6539\u5206\u533a\u4fe1\u606f",level:2},{value:"\u5206\u533a\u68c0\u7d22",id:"\u5206\u533a\u68c0\u7d22",level:2}],N={toc:u},p="wrapper";function c(e){let{components:n,...t}=e;return(0,r.yg)(p,(0,a.A)({},N,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"\u672c\u6587\u6863\u4e3b\u8981\u4ecb\u7ecd Doris \u7684\u5efa\u8868\u548c\u6570\u636e\u5212\u5206\uff0c\u4ee5\u53ca\u5efa\u8868\u64cd\u4f5c\u4e2d\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6cd5\u3002"),(0,r.yg)("h2",{id:"row--column"},"Row & Column"),(0,r.yg)("p",null,"\u5728 Doris \u4e2d\uff0c\u6570\u636e\u90fd\u4ee5\u8868\uff08Table\uff09\u7684\u5f62\u5f0f\u8fdb\u884c\u903b\u8f91\u4e0a\u7684\u63cf\u8ff0\u3002"),(0,r.yg)("p",null,"\u4e00\u5f20\u8868\u5305\u62ec\u884c\uff08Row\uff09\u548c\u5217\uff08Column\uff09\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Row\uff1a\u5373\u7528\u6237\u7684\u4e00\u884c\u6570\u636e\uff1b")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Column\uff1a\u7528\u4e8e\u63cf\u8ff0\u4e00\u884c\u6570\u636e\u4e2d\u4e0d\u540c\u7684\u5b57\u6bb5\uff1b")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"Column \u53ef\u4ee5\u5206\u4e3a\u4e24\u5927\u7c7b\uff1aKey \u548c Value\u3002\u4ece\u4e1a\u52a1\u89d2\u5ea6\u770b\uff0cKey \u548c Value \u53ef\u4ee5\u5206\u522b\u5bf9\u5e94\u7ef4\u5ea6\u5217\u548c\u6307\u6807\u5217\u3002Doris \u7684 key \u5217\u662f\u5efa\u8868\u8bed\u53e5\u4e2d\u6307\u5b9a\u7684\u5217\uff0c\u5efa\u8868\u8bed\u53e5\u4e2d\u7684\u5173\u952e\u5b57'unique key'\u6216'aggregate key'\u6216'duplicate key'\u540e\u9762\u7684\u5217\u5c31\u662f key \u5217\uff0c\u9664\u4e86 key \u5217\u5269\u4e0b\u7684\u5c31\u662f value \u5217\u3002\u4ece\u805a\u5408\u6a21\u578b\u7684\u89d2\u5ea6\u6765\u8bf4\uff0cKey \u5217\u76f8\u540c\u7684\u884c\uff0c\u4f1a\u805a\u5408\u6210\u4e00\u884c\u3002\u5176\u4e2d Value \u5217\u7684\u805a\u5408\u65b9\u5f0f\u7531\u7528\u6237\u5728\u5efa\u8868\u65f6\u6307\u5b9a\u3002\u5173\u4e8e\u66f4\u591a\u805a\u5408\u6a21\u578b\u7684\u4ecb\u7ecd\uff0c\u53ef\u4ee5\u53c2\u9605 ",(0,r.yg)("a",{parentName:"p",href:"/zh-CN/docs/3.0/table-design/data-model/overview"},"Doris \u6570\u636e\u6a21\u578b"),"\u3002"))),(0,r.yg)("h2",{id:"\u5206\u533a\u548c\u5206\u6876partition--bucket"},"\u5206\u533a\u548c\u5206\u6876\uff08Partition & Bucket\uff09"),(0,r.yg)("p",null,"Doris \u4f7f\u7528\u5206\u533a\u548c\u5206\u6876\u7684\u4e24\u5c42\u5212\u5206\u65b9\u5f0f\u6765\u7ec4\u7ec7\u548c\u7ba1\u7406\u6570\u636e\u3002"),(0,r.yg)("h3",{id:"\u5206\u533a"},"\u5206\u533a"),(0,r.yg)("p",null,"\u5206\u533a\u662f\u6307\u6839\u636e\u8868\u4e2d\u7279\u5b9a\u5217\u7684\u503c\u8fdb\u884c\u5206\u6bb5\uff0c\u5c06\u8868\u4e2d\u7684\u6570\u636e\u5212\u5206\u4e3a\u66f4\u5c0f\uff0c\u66f4\u6613\u4e8e\u7ba1\u7406\u7684\u4e0d\u76f8\u4ea4\u7684\u5b50\u96c6\uff0c\u6bcf\u4e00\u4e2a\u6570\u636e\u5b50\u96c6\u79f0\u4e3a\u4e00\u4e2a\u5206\u533a\u3002\u6bcf\u4e00\u884c\u6570\u636e\u5c5e\u4e8e\u4e14\u53ea\u5c5e\u4e8e\u4e00\u4e2a\u7279\u5b9a\u7684\u5206\u533a\u3002\u5206\u533a\u53ef\u4ee5\u89c6\u4e3a\u6700\u5c0f\u7684\u903b\u8f91\u7ba1\u7406\u5355\u5143\u3002"),(0,r.yg)("p",null,"\u76ee\u524d Doris \u652f\u6301 Range \u548c List \u7684\u5206\u533a\u5212\u5206\u65b9\u5f0f\u3002\u5efa\u8868\u65f6\u5982\u679c\u4e0d\u6307\u5b9a\u5206\u533a\uff0c\u6b64\u65f6 Doris \u4f1a\u751f\u6210\u4e00\u4e2a\u9ed8\u8ba4\u7684\u5206\u533a\u5305\u542b\u8868\u4e2d\u7684\u6240\u6709\u6570\u636e\uff0c\u8fd9\u4e2a\u5206\u533a\u5bf9\u7528\u6237\u662f\u900f\u660e\u7684\u3002"),(0,r.yg)("p",null,"\u5408\u7406\u5730\u6839\u636e\u6570\u636e\u5206\u5e03\u7279\u5f81\u548c\u67e5\u8be2\u6a21\u5f0f\u8fdb\u884c\u5206\u533a\u6709\u8bb8\u591a\u597d\u5904\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u67e5\u8be2\u6027\u80fd\u63d0\u5347\uff1a\u901a\u8fc7\u5206\u533a\uff0c\u7cfb\u7edf\u53ef\u4ee5\u6839\u636e\u67e5\u8be2\u7684\u6761\u4ef6\u88c1\u526a\u4e0d\u76f8\u5173\u7684\u5206\u533a\uff0c\u51cf\u5c11\u4e86\u6570\u636e\u626b\u63cf\u91cf\uff0c\u663e\u8457\u63d0\u9ad8\u4e86\u67e5\u8be2\u6548\u7387\u3002\u7279\u522b\u662f\u5728\u5904\u7406\u5927\u89c4\u6a21\u6570\u636e\u96c6\u65f6\uff0c\u5206\u533a\u7b56\u7565\u80fd\u5927\u5e45\u5ea6\u964d\u4f4eI/O\u8d1f\u62c5\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u7ba1\u7406\u7075\u6d3b\u6027\uff1a\u5206\u533a\u4f7f\u5f97\u6570\u636e\u53ef\u4ee5\u6309\u65f6\u95f4\u3001\u5730\u57df\u7b49\u903b\u8f91\u8fdb\u884c\u5206\u5272\uff0c\u65b9\u4fbf\u6570\u636e\u7684\u5f52\u6863\u3001\u6e05\u7406\u548c\u5907\u4efd\u3002\u4f8b\u5982\uff0c\u6309\u65f6\u95f4\u5206\u533a\u53ef\u4ee5\u6709\u6548\u5730\u7ba1\u7406\u5386\u53f2\u6570\u636e\u548c\u65b0\u589e\u6570\u636e\uff0c\u652f\u6301\u57fa\u4e8e\u65f6\u95f4\u7684\u9ad8\u6548\u6570\u636e\u7ef4\u62a4\u7b56\u7565\u3002"))),(0,r.yg)("h3",{id:"\u5206\u6876"},"\u5206\u6876"),(0,r.yg)("p",null,"\u5206\u6876\u662f\u6307\u5c06\u4e00\u4e2a\u5206\u533a\u4e2d\u7684\u6570\u636e\u8fdb\u4e00\u6b65\u6309\u7167\u67d0\u79cd\u89c4\u5219\u88ab\u5212\u5206\u66f4\u5c0f\u7684\u4e0d\u76f8\u4ea4\u7684\u6570\u636e\u5355\u5143\u3002\u6bcf\u4e00\u884c\u6570\u636e\u5c5e\u4e8e\u4e14\u53ea\u5c5e\u4e8e\u4e00\u4e2a\u7279\u5b9a\u7684\u5206\u6876\u3002\u4e0e\u6839\u636e\u7279\u5b9a\u5217\u503c\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u6bb5\u7684\u5206\u533a\u4e0d\u540c\uff0c\u5206\u6876\u5c1d\u8bd5\u5c06\u6570\u636e\u5747\u5300\u5206\u5e03\u5728\u9884\u5b9a\u4e49\u7684\u6876\u4e2d\uff0c\u4ece\u800c\u51cf\u5c11\u6570\u636e\u503e\u659c\u7684\u95ee\u9898\u3002\u5206\u6876\u901a\u8fc7\u786e\u4fdd\u6570\u636e\u5206\u5e03\u5747\u5300\u5e76\u63d0\u9ad8\u6570\u636e\u5c40\u90e8\u6027\u4ee5\u63d0\u5347\u67e5\u8be2\u6267\u884c\u7684\u6027\u80fd\u3002"),(0,r.yg)("p",null,"\u76ee\u524d Doris \u652f\u6301 Hash \u548c Random \u7684\u5206\u6876\u5212\u5206\u65b9\u5f0f\u3002"),(0,r.yg)("p",null,"\u4e00\u4e2a\u5206\u6876\u5728\u7269\u7406\u4e0a\u5bf9\u5e94\u4e00\u4e2a\u6570\u636e\u5206\u7247\uff08Tablet\uff09\uff0c\u6570\u636e\u5206\u7247\u5728\u7269\u7406\u4e0a\u662f\u72ec\u7acb\u5b58\u50a8\u7684\uff0c\u5b83\u662f\u6570\u636e\u79fb\u52a8\u3001\u590d\u5236\u7b49\u64cd\u4f5c\u7684\u6700\u5c0f\u7269\u7406\u5b58\u50a8\u5355\u5143\u3002"),(0,r.yg)("p",null,"\u5408\u7406\u5730\u5206\u6876\u80fd\u591f\u5e26\u6765\u8bb8\u591a\u6536\u76ca\uff1a"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u5747\u5300\u6570\u636e\u5206\u5e03\uff1a\u5206\u6876\u53ef\u4ee5\u5c06\u6570\u636e\u5747\u5300\u5730\u5206\u5e03\u5728\u5404\u4e2a\u6876\u4e2d\uff0c\u51cf\u5c11\u4e86\u6570\u636e\u96c6\u4e2d\u6216\u503e\u659c\u7684\u98ce\u9669\uff0c\u4ece\u800c\u907f\u514d\u4e86\u90e8\u5206\u8282\u70b9\u6216\u5b58\u50a8\u8bbe\u5907\u7684\u8d44\u6e90\u8fc7\u8f7d\u95ee\u9898\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u51cf\u5c11\u70ed\u70b9\uff1a\u901a\u8fc7\u5747\u5300\u5206\u5e03\u6570\u636e\uff0c\u5206\u6876\u6709\u52a9\u4e8e\u51cf\u5c11\u67d0\u4e9b\u7279\u5b9a\u8282\u70b9\u6216\u5206\u533a\u8fc7\u5ea6\u8d1f\u8f7d\u7684\u73b0\u8c61\uff0c\u907f\u514d\u70ed\u70b9\u95ee\u9898\uff0c\u63d0\u5347\u7cfb\u7edf\u7684\u7a33\u5b9a\u6027\u548c\u5904\u7406\u80fd\u529b\u3002")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},"\u63d0\u9ad8\u5e76\u53d1\u6027\u80fd\uff1a\u5206\u6876\u5e2e\u52a9\u63d0\u9ad8\u5e76\u53d1\u67e5\u8be2\u7684\u6027\u80fd\uff0c\u7279\u522b\u662f\u5f53\u591a\u4e2a\u67e5\u8be2\u8bf7\u6c42\u9700\u8981\u8bbf\u95ee\u76f8\u540c\u5206\u533a\u4e2d\u7684\u4e0d\u540c\u6570\u636e\u65f6\uff0c\u5206\u6876\u7684\u7c92\u5ea6\u4f7f\u5f97\u7cfb\u7edf\u80fd\u591f\u6709\u6548\u5730\u5e76\u884c\u5904\u7406\u591a\u4e2a\u8bf7\u6c42\uff0c\u4ece\u800c\u63d0\u5347\u541e\u5410\u91cf\u3002"))),(0,r.yg)("h2",{id:"\u5efa\u8868\u4e3e\u4f8b"},"\u5efa\u8868\u4e3e\u4f8b"),(0,r.yg)("p",null,"Doris \u7684\u5efa\u8868\u662f\u4e00\u4e2a\u540c\u6b65\u547d\u4ee4\uff0cSQL \u6267\u884c\u5b8c\u6210\u5373\u8fd4\u56de\u7ed3\u679c\uff0c\u547d\u4ee4\u8fd4\u56de\u6210\u529f\u5373\u8868\u793a\u5efa\u8868\u6210\u529f\u3002\u5177\u4f53\u5efa\u8868\u8bed\u6cd5\u53ef\u4ee5\u53c2\u8003",(0,r.yg)("a",{parentName:"p",href:"../../sql-manual/sql-statements/Data-Definition-Statements/Create/CREATE-TABLE"},"CREATE TABLE"),"\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 ",(0,r.yg)("inlineCode",{parentName:"p"},"HELP CREATE TABLE")," \u67e5\u770b\u66f4\u591a\u5e2e\u52a9\u3002"),(0,r.yg)("p",null,"\u8fd9\u91cc\u7ed9\u51fa\u4e86\u4e00\u4e2a\u91c7\u7528\u4e86 Range \u5206\u533a \u548c Hash \u5206\u6876\u7684\u5efa\u8868\u4e3e\u4f8b\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},'-- Range Partition\nCREATE TABLE IF NOT EXISTS example_range_tbl\n(\n    `user_id` LARGEINT NOT NULL COMMENT "\u7528\u6237id",\n    `date` DATE NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u65e5\u671f\u65f6\u95f4",\n    `timestamp` DATETIME NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u7684\u65f6\u95f4\u6233",\n    `city` VARCHAR(20) COMMENT "\u7528\u6237\u6240\u5728\u57ce\u5e02",\n    `age` SMALLINT COMMENT "\u7528\u6237\u5e74\u9f84",\n    `sex` TINYINT COMMENT "\u7528\u6237\u6027\u522b",\n    `last_visit_date` DATETIME REPLACE DEFAULT "1970-01-01 00:00:00" COMMENT "\u7528\u6237\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u65f6\u95f4",\n    `cost` BIGINT SUM DEFAULT "0" COMMENT "\u7528\u6237\u603b\u6d88\u8d39",\n    `max_dwell_time` INT MAX DEFAULT "0" COMMENT "\u7528\u6237\u6700\u5927\u505c\u7559\u65f6\u95f4",\n    `min_dwell_time` INT MIN DEFAULT "99999" COMMENT "\u7528\u6237\u6700\u5c0f\u505c\u7559\u65f6\u95f4"\n)\nENGINE=OLAP\nAGGREGATE KEY(`user_id`, `date`, `timestamp`, `city`, `age`, `sex`)\nPARTITION BY RANGE(`date`)\n(\n    PARTITION `p201701` VALUES LESS THAN ("2017-02-01"),\n    PARTITION `p201702` VALUES LESS THAN ("2017-03-01"),\n    PARTITION `p201703` VALUES LESS THAN ("2017-04-01"),\n    PARTITION `p2018` VALUES [("2018-01-01"), ("2019-01-01"))\n)\nDISTRIBUTED BY HASH(`user_id`) BUCKETS 16\nPROPERTIES\n(\n    "replication_num" = "1"\n);\n')),(0,r.yg)("p",null,"\u8fd9\u91cc\u4ee5 AGGREGATE KEY \u6570\u636e\u6a21\u578b\u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\u3002AGGREGATE KEY \u6570\u636e\u6a21\u578b\u4e2d\uff0c\u6240\u6709\u6ca1\u6709\u6307\u5b9a\u805a\u5408\u65b9\u5f0f\uff08SUM\u3001REPLACE\u3001MAX\u3001MIN\uff09\u7684\u5217\u89c6\u4e3a Key \u5217\u3002\u800c\u5176\u4f59\u5219\u4e3a Value \u5217\u3002"),(0,r.yg)("p",null,"\u5728\u5efa\u8868\u8bed\u53e5\u7684\u6700\u540e PROPERTIES \u4e2d\uff0c\u5173\u4e8e PROPERTIES \u4e2d\u53ef\u4ee5\u8bbe\u7f6e\u7684\u76f8\u5173\u53c2\u6570\uff0c\u53ef\u4ee5\u67e5\u770b",(0,r.yg)("a",{parentName:"p",href:"../../sql-manual/sql-statements/Data-Definition-Statements/Create/CREATE-TABLE"},"CREATE TABLE"),"\u4e2d\u7684\u8be6\u7ec6\u4ecb\u7ecd\u3002"),(0,r.yg)("p",null,"ENGINE \u7684\u7c7b\u578b\u662f OLAP\uff0c\u5373\u9ed8\u8ba4\u7684 ENGINE \u7c7b\u578b\u3002\u5728 Doris \u4e2d\uff0c\u53ea\u6709\u8fd9\u4e2a ENGINE \u7c7b\u578b\u662f\u7531 Doris \u8d1f\u8d23\u6570\u636e\u7ba1\u7406\u548c\u5b58\u50a8\u7684\u3002\u5176\u4ed6 ENGINE \u7c7b\u578b\uff0c\u5982 MySQL\u3001 Broker\u3001ES \u7b49\u7b49\uff0c\u672c\u8d28\u4e0a\u53ea\u662f\u5bf9\u5916\u90e8\u5176\u4ed6\u6570\u636e\u5e93\u6216\u7cfb\u7edf\u4e2d\u7684\u8868\u7684\u6620\u5c04\uff0c\u4ee5\u4fdd\u8bc1 Doris \u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e9b\u6570\u636e\u3002\u800c Doris \u672c\u8eab\u5e76\u4e0d\u521b\u5efa\u3001\u7ba1\u7406\u548c\u5b58\u50a8\u4efb\u4f55\u975e OLAP ENGINE \u7c7b\u578b\u7684\u8868\u548c\u6570\u636e\u3002"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"IF NOT EXISTS"),"\u8868\u793a\u5982\u679c\u6ca1\u6709\u521b\u5efa\u8fc7\u8be5\u8868\uff0c\u5219\u521b\u5efa\u3002\u6ce8\u610f\u8fd9\u91cc\u53ea\u5224\u65ad\u8868\u540d\u662f\u5426\u5b58\u5728\uff0c\u800c\u4e0d\u4f1a\u5224\u65ad\u65b0\u5efa\u8868 Schema \u662f\u5426\u4e0e\u5df2\u5b58\u5728\u7684\u8868 Schema \u76f8\u540c\u3002\u6240\u4ee5\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u540c\u540d\u4f46\u4e0d\u540c Schema \u7684\u8868\uff0c\u8be5\u547d\u4ee4\u4e5f\u4f1a\u8fd4\u56de\u6210\u529f\uff0c\u4f46\u5e76\u4e0d\u4ee3\u8868\u5df2\u7ecf\u521b\u5efa\u4e86\u65b0\u7684\u8868\u548c\u65b0\u7684 Schema\u3002"),(0,r.yg)("h3",{id:"\u9ad8\u7ea7\u7279\u6027\u4e0e\u793a\u4f8b"},"\u9ad8\u7ea7\u7279\u6027\u4e0e\u793a\u4f8b"),(0,r.yg)("p",null,"Doris \u652f\u6301\u5305\u62ec\u52a8\u6001\u5206\u533a\u3001\u81ea\u52a8\u5206\u533a\u3001\u81ea\u52a8\u5206\u6876\u5728\u5185\u7684\u9ad8\u7ea7\u6570\u636e\u5212\u5206\u65b9\u5f0f\uff0c\u5b83\u4eec\u80fd\u591f\u66f4\u7075\u6d3b\u5730\u5b9e\u73b0\u6570\u636e\u7ba1\u7406\u3002\u4ee5\u4e0b\u4e3e\u4f8b\u5b9e\u73b0\uff1a"),(0,r.yg)(l.A,{mdxType:"Tabs"},(0,r.yg)(i.A,{value:"\u81ea\u52a8\u5206\u533a",label:"\u81ea\u52a8\u5206\u533a",default:!0,mdxType:"TabItem"},(0,r.yg)("p",null,(0,r.yg)("p",null,(0,r.yg)("a",{parentName:"p",href:"./auto-partitioning"},"\u81ea\u52a8\u5206\u533a")," \u652f\u6301\u6839\u636e\u7528\u6237\u5b9a\u4e49\u7684\u89c4\u5219\u5728\u6570\u636e\u5bfc\u5165\u65f6\u81ea\u52a8\u521b\u5efa\u5bf9\u5e94\u5206\u533a\uff0c\u66f4\u4e3a\u4fbf\u6377\u3002\u5c06\u4e0a\u4f8b\u7528\u81ea\u52a8 Range \u5206\u533a\u6539\u5199\u5982\u4e0b\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},'CREATE TABLE IF NOT EXISTS example_range_tbl\n(\n    `user_id` LARGEINT NOT NULL COMMENT "\u7528\u6237id",\n    `date` DATE NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u65e5\u671f\u65f6\u95f4",\n    `timestamp` DATETIME NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u7684\u65f6\u95f4\u6233",\n    `city` VARCHAR(20) COMMENT "\u7528\u6237\u6240\u5728\u57ce\u5e02",\n    `age` SMALLINT COMMENT "\u7528\u6237\u5e74\u9f84",\n    `sex` TINYINT COMMENT "\u7528\u6237\u6027\u522b",\n    `last_visit_date` DATETIME REPLACE DEFAULT "1970-01-01 00:00:00" COMMENT "\u7528\u6237\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u65f6\u95f4",\n    `cost` BIGINT SUM DEFAULT "0" COMMENT "\u7528\u6237\u603b\u6d88\u8d39",\n    `max_dwell_time` INT MAX DEFAULT "0" COMMENT "\u7528\u6237\u6700\u5927\u505c\u7559\u65f6\u95f4",\n    `min_dwell_time` INT MIN DEFAULT "99999" COMMENT "\u7528\u6237\u6700\u5c0f\u505c\u7559\u65f6\u95f4"\n)\nENGINE=OLAP\nAGGREGATE KEY(`user_id`, `date`, `timestamp`, `city`, `age`, `sex`)\nAUTO PARTITION BY RANGE(date_trunc(`date`, \'month\')) --- \u4f7f\u7528\u6708\u4f5c\u4e3a\u5206\u533a\u7c92\u5ea6\n()\nDISTRIBUTED BY HASH(`user_id`) BUCKETS 16\nPROPERTIES\n(\n    "replication_num" = "1"\n);\n')),(0,r.yg)("p",null,"\u5982\u4e0a\u5efa\u8868\uff0c\u5f53\u6570\u636e\u5bfc\u5165\u65f6\uff0cDoris \u5c06\u4f1a\u81ea\u52a8\u521b\u5efa\u5bf9\u5e94\u5206\u533a\uff0c\u5206\u533a\u5217\u4e3a ",(0,r.yg)("inlineCode",{parentName:"p"},"date"),"\uff0c\u7c92\u5ea6\u4e3a\u6708\u7ea7\u522b\u3002",(0,r.yg)("inlineCode",{parentName:"p"},"2018-12-01")," \u548c ",(0,r.yg)("inlineCode",{parentName:"p"},"2018-12-31")," \u5c06\u4f1a\u843d\u5165\u540c\u4e00\u4e2a\u5206\u533a\uff0c\u800c ",(0,r.yg)("inlineCode",{parentName:"p"},"2018-11-12")," \u5c06\u4f1a\u843d\u5165\u9886\u4e00\u4e2a\u5206\u533a\u3002\u81ea\u52a8\u5206\u533a\u8fd8\u652f\u6301 List \u5206\u533a\uff0c\u66f4\u591a\u7528\u6cd5\u8bf7\u67e5\u770b\u81ea\u52a8\u5206\u533a\u6587\u6863\u3002"))),(0,r.yg)(i.A,{value:"\u52a8\u6001\u5206\u533a",label:"\u52a8\u6001\u5206\u533a",mdxType:"TabItem"},(0,r.yg)("p",null,(0,r.yg)("p",null,(0,r.yg)("a",{parentName:"p",href:"./dynamic-partitioning"},"\u52a8\u6001\u5206\u533a"),"\u662f\u6839\u636e\u73b0\u5b9e\u65f6\u95f4\u8fdb\u884c\u81ea\u52a8\u7684\u5206\u533a\u521b\u5efa\u4e0e\u56de\u6536\u7684\u7ba1\u7406\u65b9\u5f0f\uff0c\u5c06\u4e0a\u4f8b\u7528\u52a8\u6001\u5206\u533a\u6539\u5199\u5982\u4e0b\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},'CREATE TABLE IF NOT EXISTS example_range_tbl\n(\n    `user_id` LARGEINT NOT NULL COMMENT "\u7528\u6237id",\n    `date` DATE NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u65e5\u671f\u65f6\u95f4",\n    `timestamp` DATETIME NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u7684\u65f6\u95f4\u6233",\n    `city` VARCHAR(20) COMMENT "\u7528\u6237\u6240\u5728\u57ce\u5e02",\n    `age` SMALLINT COMMENT "\u7528\u6237\u5e74\u9f84",\n    `sex` TINYINT COMMENT "\u7528\u6237\u6027\u522b",\n    `last_visit_date` DATETIME REPLACE DEFAULT "1970-01-01 00:00:00" COMMENT "\u7528\u6237\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u65f6\u95f4",\n    `cost` BIGINT SUM DEFAULT "0" COMMENT "\u7528\u6237\u603b\u6d88\u8d39",\n    `max_dwell_time` INT MAX DEFAULT "0" COMMENT "\u7528\u6237\u6700\u5927\u505c\u7559\u65f6\u95f4",\n    `min_dwell_time` INT MIN DEFAULT "99999" COMMENT "\u7528\u6237\u6700\u5c0f\u505c\u7559\u65f6\u95f4"\n)\nENGINE=OLAP\nAGGREGATE KEY(`user_id`, `date`, `timestamp`, `city`, `age`, `sex`)\nPARTITION BY RANGE(`date`)\n()\nDISTRIBUTED BY HASH(`user_id`) BUCKETS 16\nPROPERTIES\n(\n    "replication_num" = "1",\n    "dynamic_partition.enable" = "true",\n    "dynamic_partition.time_unit" = "WEEK", --- \u5206\u533a\u7c92\u5ea6\u4e3a\u5468\n    "dynamic_partition.start" = "-2", --- \u5411\u524d\u4fdd\u7559\u4e24\u5468\n    "dynamic_partition.end" = "2", --- \u63d0\u524d\u521b\u5efa\u540e\u4e24\u5468\n    "dynamic_partition.prefix" = "p",\n    "dynamic_partition.buckets" = "8"\n);\n')),(0,r.yg)("p",null,"\u52a8\u6001\u5206\u533a\u652f\u6301\u5206\u5c42\u5b58\u50a8\u3001\u81ea\u5b9a\u526f\u672c\u6570\u7b49\u529f\u80fd\uff0c\u8be6\u89c1\u52a8\u6001\u5206\u533a\u6587\u6863\u3002"))),(0,r.yg)(i.A,{value:"\u81ea\u52a8\u5206\u533a+\u52a8\u6001\u5206\u533a",label:"\u81ea\u52a8\u5206\u533a+\u52a8\u6001\u5206\u533a",mdxType:"TabItem"},(0,r.yg)("p",null,(0,r.yg)("p",null,"\u81ea\u52a8\u5206\u533a\u4e0e\u52a8\u6001\u5206\u533a\u5404\u6709\u5176\u4f18\u70b9\uff0c\u5c06\u4e8c\u8005\u7ed3\u5408\u53ef\u4ee5\u5b9e\u73b0\u5206\u533a\u7684\u7075\u6d3b\u6309\u9700\u521b\u5efa\u548c\u81ea\u52a8\u56de\u6536\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},'CREATE TABLE IF NOT EXISTS example_range_tbl\n(\n    `user_id` LARGEINT NOT NULL COMMENT "\u7528\u6237id",\n    `date` DATE NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u65e5\u671f\u65f6\u95f4",\n    `timestamp` DATETIME NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u7684\u65f6\u95f4\u6233",\n    `city` VARCHAR(20) COMMENT "\u7528\u6237\u6240\u5728\u57ce\u5e02",\n    `age` SMALLINT COMMENT "\u7528\u6237\u5e74\u9f84",\n    `sex` TINYINT COMMENT "\u7528\u6237\u6027\u522b",\n    `last_visit_date` DATETIME REPLACE DEFAULT "1970-01-01 00:00:00" COMMENT "\u7528\u6237\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u65f6\u95f4",\n    `cost` BIGINT SUM DEFAULT "0" COMMENT "\u7528\u6237\u603b\u6d88\u8d39",\n    `max_dwell_time` INT MAX DEFAULT "0" COMMENT "\u7528\u6237\u6700\u5927\u505c\u7559\u65f6\u95f4",\n    `min_dwell_time` INT MIN DEFAULT "99999" COMMENT "\u7528\u6237\u6700\u5c0f\u505c\u7559\u65f6\u95f4"\n)\nENGINE=OLAP\nAGGREGATE KEY(`user_id`, `date`, `timestamp`, `city`, `age`, `sex`)\nAUTO PARTITION BY RANGE(date_trunc(`date`, \'month\')) --- \u4f7f\u7528\u6708\u4f5c\u4e3a\u5206\u533a\u7c92\u5ea6\n()\nDISTRIBUTED BY HASH(`user_id`) BUCKETS 16\nPROPERTIES\n(\n    "replication_num" = "1",\n    "dynamic_partition.enable" = "true",\n    "dynamic_partition.time_unit" = "month", --- \u4e8c\u8005\u7c92\u5ea6\u5fc5\u987b\u76f8\u540c\n    "dynamic_partition.start" = "-2", --- \u52a8\u6001\u5206\u533a\u81ea\u52a8\u6e05\u7406\u8d85\u8fc7\u4e24\u5468\u7684\u5386\u53f2\u5206\u533a\n    "dynamic_partition.end" = "0", --- \u52a8\u6001\u5206\u533a\u4e0d\u521b\u5efa\u672a\u6765\u5206\u533a\uff0c\u5b8c\u5168\u4ea4\u7ed9\u81ea\u52a8\u5206\u533a\n    "dynamic_partition.prefix" = "p",\n    "dynamic_partition.buckets" = "8"\n);\n')),(0,r.yg)("p",null,"\u5173\u4e8e\u8be5\u529f\u80fd\u7684\u7ec6\u8282\u5efa\u8bae\uff0c\u8be6\u89c1",(0,r.yg)("a",{parentName:"p",href:"./auto-partitioning#%E4%B8%8E%E5%8A%A8%E6%80%81%E5%88%86%E5%8C%BA%E8%81%94%E7%94%A8"},"\u81ea\u52a8\u5206\u533a\u4e0e\u52a8\u6001\u5206\u533a\u8054\u7528"),"\u3002"))),(0,r.yg)(i.A,{value:"\u81ea\u52a8\u5206\u6876",label:"\u81ea\u52a8\u5206\u6876",mdxType:"TabItem"},(0,r.yg)("p",null,(0,r.yg)("p",null,"\u5f53\u7528\u6237\u4e0d\u786e\u5b9a\u5408\u7406\u7684\u5206\u6876\u6570\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,r.yg)("a",{parentName:"p",href:"./auto-bucket"},"\u81ea\u52a8\u5206\u6876"),"\u7531 Doris \u5b8c\u6210\u4f30\u8ba1\uff0c\u7528\u6237\u4ec5\u9700\u63d0\u4f9b\u4f30\u8ba1\u7684\u8868\u6570\u636e\u91cf\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},'CREATE TABLE IF NOT EXISTS example_range_tbl\n(\n    `user_id` LARGEINT NOT NULL COMMENT "\u7528\u6237id",\n    `date` DATE NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u65e5\u671f\u65f6\u95f4",\n    `timestamp` DATETIME NOT NULL COMMENT "\u6570\u636e\u704c\u5165\u7684\u65f6\u95f4\u6233",\n    `city` VARCHAR(20) COMMENT "\u7528\u6237\u6240\u5728\u57ce\u5e02",\n    `age` SMALLINT COMMENT "\u7528\u6237\u5e74\u9f84",\n    `sex` TINYINT COMMENT "\u7528\u6237\u6027\u522b",\n    `last_visit_date` DATETIME REPLACE DEFAULT "1970-01-01 00:00:00" COMMENT "\u7528\u6237\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u65f6\u95f4",\n    `cost` BIGINT SUM DEFAULT "0" COMMENT "\u7528\u6237\u603b\u6d88\u8d39",\n    `max_dwell_time` INT MAX DEFAULT "0" COMMENT "\u7528\u6237\u6700\u5927\u505c\u7559\u65f6\u95f4",\n    `min_dwell_time` INT MIN DEFAULT "99999" COMMENT "\u7528\u6237\u6700\u5c0f\u505c\u7559\u65f6\u95f4"\n)\nENGINE=OLAP\nAGGREGATE KEY(`user_id`, `date`, `timestamp`, `city`, `age`, `sex`)\nPARTITION BY RANGE(`date`)\n(\n    PARTITION `p201701` VALUES LESS THAN ("2017-02-01"),\n    PARTITION `p201702` VALUES LESS THAN ("2017-03-01"),\n    PARTITION `p201703` VALUES LESS THAN ("2017-04-01"),\n    PARTITION `p2018` VALUES [("2018-01-01"), ("2019-01-01"))\n)\nDISTRIBUTED BY HASH(`user_id`) BUCKETS AUTO\nPROPERTIES\n(\n    "replication_num" = "1",\n    "estimate_partition_size" = "2G" --- \u7528\u6237\u4f30\u8ba1\u4e00\u4e2a\u5206\u533a\u5c06\u6709\u7684\u6570\u636e\u91cf\uff0c\u4e0d\u63d0\u4f9b\u5219\u9ed8\u8ba4\u4e3a 10G\n);\n')),(0,r.yg)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u65b9\u5f0f\u4e0d\u9002\u7528\u4e8e\u8868\u6570\u636e\u91cf\u7279\u522b\u5927\u7684\u60c5\u51b5\u3002")))),(0,r.yg)("h2",{id:"\u67e5\u770b\u5206\u533a\u4fe1\u606f"},"\u67e5\u770b\u5206\u533a\u4fe1\u606f"),(0,r.yg)("p",null,"\u53ef\u4ee5\u901a\u8fc7 show create table \u6765\u67e5\u770b\u8868\u7684\u5206\u533a\u4fe1\u606f\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},"> show create table  example_range_tbl \n+-------------------+---------------------------------------------------------------------------------------------------------+                                                                                                            \n| Table             | Create Table                                                                                            |                                                                                                            \n+-------------------+---------------------------------------------------------------------------------------------------------+                                                                                                            \n| example_range_tbl | CREATE TABLE `example_range_tbl` (                                                                      |                                                                                                            \n|                   |   `user_id` largeint(40) NOT NULL COMMENT '\u7528\u6237id',                                                     |                                                                                                            \n|                   |   `date` date NOT NULL COMMENT '\u6570\u636e\u704c\u5165\u65e5\u671f\u65f6\u95f4',                                                      |                                                                                                            \n|                   |   `timestamp` datetime NOT NULL COMMENT '\u6570\u636e\u704c\u5165\u7684\u65f6\u95f4\u6233',                                             |                                                                                                            \n|                   |   `city` varchar(20) NULL COMMENT '\u7528\u6237\u6240\u5728\u57ce\u5e02',                                                       |                                                                                                            \n|                   |   `age` smallint(6) NULL COMMENT '\u7528\u6237\u5e74\u9f84',                                                            |                                                                                                            \n|                   |   `sex` tinyint(4) NULL COMMENT '\u7528\u6237\u6027\u522b',                                                             |                                                                                                            \n|                   |   `last_visit_date` datetime REPLACE NULL DEFAULT \"1970-01-01 00:00:00\" COMMENT '\u7528\u6237\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u65f6\u95f4', |                                                                                                            \n|                   |   `cost` bigint(20) SUM NULL DEFAULT \"0\" COMMENT '\u7528\u6237\u603b\u6d88\u8d39',                                          |                                                                                                            \n|                   |   `max_dwell_time` int(11) MAX NULL DEFAULT \"0\" COMMENT '\u7528\u6237\u6700\u5927\u505c\u7559\u65f6\u95f4',                             |                                                                                                            \n|                   |   `min_dwell_time` int(11) MIN NULL DEFAULT \"99999\" COMMENT '\u7528\u6237\u6700\u5c0f\u505c\u7559\u65f6\u95f4'                          |                                                                                                            \n|                   | ) ENGINE=OLAP                                                                                           |                                                                                                            \n|                   | AGGREGATE KEY(`user_id`, `date`, `timestamp`, `city`, `age`, `sex`)                                     |                                                                                                            \n|                   | COMMENT 'OLAP'                                                                                          |                                                                                                            \n|                   | PARTITION BY RANGE(`date`)                                                                              |                                                                                                            \n|                   | (PARTITION p201701 VALUES [('0000-01-01'), ('2017-02-01')),                                             |                                                                                                            \n|                   | PARTITION p201702 VALUES [('2017-02-01'), ('2017-03-01')),                                              |                                                                                                            \n|                   | PARTITION p201703 VALUES [('2017-03-01'), ('2017-04-01')))                                              |                                                                                                            \n|                   | DISTRIBUTED BY HASH(`user_id`) BUCKETS 16                                                               |                                                                                                            \n|                   | PROPERTIES (                                                                                            |                                                                                                            \n|                   | \"replication_allocation\" = \"tag.location.default: 1\",                                                   |                                                                                                            \n|                   | \"is_being_synced\" = \"false\",                                                                            |                                                                                                            \n|                   | \"storage_format\" = \"V2\",                                                                                |                                                                                                            \n|                   | \"light_schema_change\" = \"true\",                                                                         |                                                                                                            \n|                   | \"disable_auto_compaction\" = \"false\",                                                                    |                                                                                                            \n|                   | \"enable_single_replica_compaction\" = \"false\"                                                            |                                                                                                            \n|                   | );                                                                                                      |                                                                                                            \n+-------------------+---------------------------------------------------------------------------------------------------------+   \n")),(0,r.yg)("p",null,"\u53ef\u4ee5\u901a\u8fc7 show partitions from your_table \u6765\u67e5\u770b\u8868\u7684\u5206\u533a\u4fe1\u606f\u3002"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},"> show partitions from example_range_tbl\n+-------------+---------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------\n+---------------------+---------------------+--------------------------+----------+------------+-------------------------+-----------+                                                                                                     \n| PartitionId | PartitionName | VisibleVersion | VisibleVersionTime  | State  | PartitionKey | Range                                                                          | DistributionKey | Buckets | ReplicationNum | StorageMedium \n| CooldownTime        | RemoteStoragePolicy | LastConsistencyCheckTime | DataSize | IsInMemory | ReplicaAllocation       | IsMutable |                                                                                                     \n+-------------+---------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------\n+---------------------+---------------------+--------------------------+----------+------------+-------------------------+-----------+                                                                                                     \n| 28731       | p201701       | 1              | 2024-01-25 10:50:51 | NORMAL | date         | [types: [DATEV2]; keys: [0000-01-01]; ..types: [DATEV2]; keys: [2017-02-01]; ) | user_id         | 16      | 1              | HDD           \n| 9999-12-31 23:59:59 |                     |                    | 0.000    | false      | tag.location.default: 1 | true      |                                                                                                     \n| 28732       | p201702       | 1              | 2024-01-25 10:50:51 | NORMAL | date         | [types: [DATEV2]; keys: [2017-02-01]; ..types: [DATEV2]; keys: [2017-03-01]; ) | user_id         | 16      | 1              | HDD           \n| 9999-12-31 23:59:59 |                     |                    | 0.000    | false      | tag.location.default: 1 | true      |                                                                                                     \n| 28733       | p201703       | 1              | 2024-01-25 10:50:51 | NORMAL | date         | [types: [DATEV2]; keys: [2017-03-01]; ..types: [DATEV2]; keys: [2017-04-01]; ) | user_id         | 16      | 1              | HDD           \n| 9999-12-31 23:59:59 |                     |                    | 0.000    | false      | tag.location.default: 1 | true      |                                                                                                     \n+-------------+---------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------\n+---------------------+---------------------+--------------------------+----------+------------+-------------------------+-----------+                  \n")),(0,r.yg)("h2",{id:"\u4fee\u6539\u5206\u533a\u4fe1\u606f"},"\u4fee\u6539\u5206\u533a\u4fe1\u606f"),(0,r.yg)("p",null,"\u901a\u8fc7 alter table add partition \u6765\u589e\u52a0\u65b0\u7684\u5206\u533a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},'ALTER TABLE example_range_tbl ADD  PARTITION p201704 VALUES LESS THAN("2020-05-01") DISTRIBUTED BY HASH(`user_id`) BUCKETS 5;\n')),(0,r.yg)("p",null,"\u5176\u5b83\u66f4\u591a\u5206\u533a\u4fee\u6539\u64cd\u4f5c\uff0c\u53c2\u89c1 SQL \u624b\u518c ",(0,r.yg)("a",{parentName:"p",href:"../../sql-manual/sql-statements/Data-Definition-Statements/Alter/ALTER-TABLE-PARTITION"},"ALTER-TABLE-PARTITION"),"\u3002"),(0,r.yg)("h2",{id:"\u5206\u533a\u68c0\u7d22"},"\u5206\u533a\u68c0\u7d22"),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"partitions")," \u8868\u51fd\u6570\u548c ",(0,r.yg)("inlineCode",{parentName:"p"},"information_schema.partitions")," \u7cfb\u7edf\u8868\uff08\u81ea 3.0.2 \u8d77\u652f\u6301\uff09\u8bb0\u5f55\u4e86\u96c6\u7fa4\u7684\u5206\u533a\u4fe1\u606f\u3002\u5728\u81ea\u52a8\u7ba1\u7406\u5206\u533a\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7\u5bf9\u5e94\u8868\u63d0\u53d6\u5206\u533a\u4fe1\u606f\u4f7f\u7528\uff1a"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sql"},"--- \u5728 Auto Partition \u8868\u4e2d\u627e\u5bf9\u5e94\u503c\u6240\u5c5e\u7684\u5206\u533a\nmysql> select * from partitions(\"catalog\"=\"internal\", \"database\"=\"optest\", \"table\"=\"DAILY_TRADE_VALUE\") where PartitionName = auto_partition_name('range', 'year', '2008-02-03');\n+-------------+-----------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------+---------------------+---------------------+--------------------------+-----------+------------+-------------------------+-----------+--------------------+--------------+\n| PartitionId | PartitionName   | VisibleVersion | VisibleVersionTime  | State  | PartitionKey | Range                                                                          | DistributionKey | Buckets | ReplicationNum | StorageMedium | CooldownTime        | RemoteStoragePolicy | LastConsistencyCheckTime | DataSize  | IsInMemory | ReplicaAllocation       | IsMutable | SyncWithBaseTables | UnsyncTables |\n+-------------+-----------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------+---------------------+---------------------+--------------------------+-----------+------------+-------------------------+-----------+--------------------+--------------+\n|      127095 | p20080101000000 |              2 | 2024-11-14 17:29:02 | NORMAL | TRADE_DATE   | [types: [DATEV2]; keys: [2008-01-01]; ..types: [DATEV2]; keys: [2009-01-01]; ) | TRADE_DATE      |      10 |              1 | HDD           | 9999-12-31 23:59:59 |                     | \\N                       | 985.000 B |          0 | tag.location.default: 1 |         1 |                  1 | \\N           |\n+-------------+-----------------+----------------+---------------------+--------+--------------+--------------------------------------------------------------------------------+-----------------+---------+----------------+---------------+---------------------+---------------------+--------------------------+-----------+------------+-------------------------+-----------+--------------------+--------------+\n1 row in set (0.30 sec)\n\nmysql> select * from information_schema.partitions where TABLE_SCHEMA='optest' and TABLE_NAME='list_table1' and PARTITION_NAME=auto_partition_name('list', null);\n+---------------+--------------+-------------+----------------+-------------------+----------------------------+-------------------------------+------------------+---------------------+----------------------+-------------------------+-----------------------+------------+----------------+-------------+-----------------+--------------+-----------+-------------+---------------------+---------------------+----------+-------------------+-----------+-----------------+\n| TABLE_CATALOG | TABLE_SCHEMA | TABLE_NAME  | PARTITION_NAME | SUBPARTITION_NAME | PARTITION_ORDINAL_POSITION | SUBPARTITION_ORDINAL_POSITION | PARTITION_METHOD | SUBPARTITION_METHOD | PARTITION_EXPRESSION | SUBPARTITION_EXPRESSION | PARTITION_DESCRIPTION | TABLE_ROWS | AVG_ROW_LENGTH | DATA_LENGTH | MAX_DATA_LENGTH | INDEX_LENGTH | DATA_FREE | CREATE_TIME | UPDATE_TIME         | CHECK_TIME          | CHECKSUM | PARTITION_COMMENT | NODEGROUP | TABLESPACE_NAME |\n+---------------+--------------+-------------+----------------+-------------------+----------------------------+-------------------------------+------------------+---------------------+----------------------+-------------------------+-----------------------+------------+----------------+-------------+-----------------+--------------+-----------+-------------+---------------------+---------------------+----------+-------------------+-----------+-----------------+\n| internal      | optest       | list_table1 | pX             | NULL              |                          0 |                             0 | LIST             | NULL                | str                  | NULL                    | (NULL)                |          1 |           1266 |        1266 |               0 |            0 |         0 |           0 | 2024-11-14 19:58:45 | 0000-00-00 00:00:00 |        0 |                   |           |                 |\n+---------------+--------------+-------------+----------------+-------------------+----------------------------+-------------------------------+------------------+---------------------+----------------------+-------------------------+-----------------------+------------+----------------+-------------+-----------------+--------------+-----------+-------------+---------------------+---------------------+----------+-------------------+-----------+-----------------+\n1 row in set (0.24 sec)\n\n--- \u627e\u5bf9\u5e94\u8d77\u59cb\u70b9\u7684\u5206\u533a\nmysql> select * from information_schema.partitions where TABLE_NAME='DAILY_TRADE_VALUE' and PARTITION_DESCRIPTION like \"[('2012-01-01'),%\";\n+---------------+--------------+-------------------+-----------------+-------------------+----------------------------+-------------------------------+------------------+---------------------+----------------------+-------------------------+----------------------------------+------------+----------------+-------------+-----------------+--------------+-----------+-------------+---------------------+---------------------+----------+-------------------+-----------+-----------------+\n| TABLE_CATALOG | TABLE_SCHEMA | TABLE_NAME        | PARTITION_NAME  | SUBPARTITION_NAME | PARTITION_ORDINAL_POSITION | SUBPARTITION_ORDINAL_POSITION | PARTITION_METHOD | SUBPARTITION_METHOD | PARTITION_EXPRESSION | SUBPARTITION_EXPRESSION | PARTITION_DESCRIPTION            | TABLE_ROWS | AVG_ROW_LENGTH | DATA_LENGTH | MAX_DATA_LENGTH | INDEX_LENGTH | DATA_FREE | CREATE_TIME | UPDATE_TIME         | CHECK_TIME          | CHECKSUM | PARTITION_COMMENT | NODEGROUP | TABLESPACE_NAME |\n+---------------+--------------+-------------------+-----------------+-------------------+----------------------------+-------------------------------+------------------+---------------------+----------------------+-------------------------+----------------------------------+------------+----------------+-------------+-----------------+--------------+-----------+-------------+---------------------+---------------------+----------+-------------------+-----------+-----------------+\n| internal      | optest       | DAILY_TRADE_VALUE | p20120101000000 | NULL              |                          0 |                             0 | RANGE            | NULL                | TRADE_DATE           | NULL                    | [('2012-01-01'), ('2013-01-01')) |          1 |            985 |         985 |               0 |            0 |         0 |           0 | 2024-11-14 17:29:02 | 0000-00-00 00:00:00 |        0 |                   |           |                 |\n+---------------+--------------+-------------------+-----------------+-------------------+----------------------------+-------------------------------+------------------+---------------------+----------------------+-------------------------+----------------------------------+------------+----------------+-------------+-----------------+--------------+-----------+-------------+---------------------+---------------------+----------+-------------------+-----------+-----------------+\n1 row in set (0.65 sec)\n")))}c.isMDXComponent=!0}}]);