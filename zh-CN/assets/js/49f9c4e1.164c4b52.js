"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([[231834],{15680:(e,a,r)=>{r.d(a,{xA:()=>c,yg:()=>d});var n=r(296540);function l(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function m(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?m(Object(r),!0).forEach((function(a){l(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}function t(e,a){if(null==e)return{};var r,n,l=function(e,a){if(null==e)return{};var r,n,l={},m=Object.keys(e);for(n=0;n<m.length;n++)r=m[n],a.indexOf(r)>=0||(l[r]=e[r]);return l}(e,a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(n=0;n<m.length;n++)r=m[n],a.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var y=n.createContext({}),i=function(e){var a=n.useContext(y),r=a;return e&&(r="function"==typeof e?e(a):o(o({},a),e)),r},c=function(e){var a=i(e.components);return n.createElement(y.Provider,{value:a},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},s=n.forwardRef((function(e,a){var r=e.components,l=e.mdxType,m=e.originalType,y=e.parentName,c=t(e,["components","mdxType","originalType","parentName"]),u=i(r),s=l,d=u["".concat(y,".").concat(s)]||u[s]||p[s]||m;return r?n.createElement(d,o(o({ref:a},c),{},{components:r})):n.createElement(d,o({ref:a},c))}));function d(e,a){var r=arguments,l=a&&a.mdxType;if("string"==typeof e||l){var m=r.length,o=new Array(m);o[0]=s;var t={};for(var y in a)hasOwnProperty.call(a,y)&&(t[y]=a[y]);t.originalType=e,t[u]="string"==typeof e?e:l,o[1]=t;for(var i=2;i<m;i++)o[i]=r[i];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}s.displayName="MDXCreateElement"},119998:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>y,contentTitle:()=>o,default:()=>p,frontMatter:()=>m,metadata:()=>t,toc:()=>i});var n=r(58168),l=(r(296540),r(15680));const m={title:"\u67e5\u8be2\u62a5\u9519 Process Memory Not Enough",language:"zh-CN"},o=void 0,t={unversionedId:"admin-manual/memory-management/memory-analysis/query-cancelled-after-process-memory-exceeded",id:"admin-manual/memory-management/memory-analysis/query-cancelled-after-process-memory-exceeded",title:"\u67e5\u8be2\u62a5\u9519 Process Memory Not Enough",description:"\x3c!--",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/admin-manual/memory-management/memory-analysis/query-cancelled-after-process-memory-exceeded.md",sourceDirName:"admin-manual/memory-management/memory-analysis",slug:"/admin-manual/memory-management/memory-analysis/query-cancelled-after-process-memory-exceeded",permalink:"/zh-CN/docs/dev/admin-manual/memory-management/memory-analysis/query-cancelled-after-process-memory-exceeded",draft:!1,tags:[],version:"current",frontMatter:{title:"\u67e5\u8be2\u62a5\u9519 Process Memory Not Enough",language:"zh-CN"},sidebar:"docs",previous:{title:"\u5bfc\u5165\u5185\u5b58\u5206\u6790",permalink:"/zh-CN/docs/dev/admin-manual/memory-management/memory-analysis/load-memory-analysis"},next:{title:"\u67e5\u8be2\u62a5\u9519 Memory Tracker Limit Exceeded",permalink:"/zh-CN/docs/dev/admin-manual/memory-management/memory-analysis/query-cancelled-after-query-memory-exceeded"}},y={},i=[{value:"\u9519\u8bef\u4fe1\u606f\u89e3\u6790",id:"\u9519\u8bef\u4fe1\u606f\u89e3\u6790",level:2},{value:"1 \u5728\u5185\u5b58 Full GC \u4e2d\u88ab Cancel",id:"1-\u5728\u5185\u5b58-full-gc-\u4e2d\u88ab-cancel",level:3},{value:"2 \u5728\u5185\u5b58 Minor GC \u4e2d\u88ab Cancel",id:"2-\u5728\u5185\u5b58-minor-gc-\u4e2d\u88ab-cancel",level:3},{value:"3 \u4ece Allocator \u7533\u8bf7\u5185\u5b58\u5931\u8d25",id:"3-\u4ece-allocator-\u7533\u8bf7\u5185\u5b58\u5931\u8d25",level:3},{value:"\u88ab Cancel \u7684 Query \u81ea\u8eab\u5185\u5b58\u8fc7\u5927",id:"\u88ab-cancel-\u7684-query-\u81ea\u8eab\u5185\u5b58\u8fc7\u5927",level:2},{value:"\u88ab Cancel \u7684 Query \u81ea\u8eab\u5185\u5b58\u8f83\u5c0f\uff0c\u6709\u5176\u4ed6\u5185\u5b58\u66f4\u5927\u7684 Query \u5b58\u5728",id:"\u88ab-cancel-\u7684-query-\u81ea\u8eab\u5185\u5b58\u8f83\u5c0f\u6709\u5176\u4ed6\u5185\u5b58\u66f4\u5927\u7684-query-\u5b58\u5728",level:2},{value:"\u67e5\u8be2\u548c\u5bfc\u5165\u4efb\u52a1\u4e4b\u5916\u7684\u8fdb\u7a0b\u5185\u5b58\u8fc7\u5927",id:"\u67e5\u8be2\u548c\u5bfc\u5165\u4efb\u52a1\u4e4b\u5916\u7684\u8fdb\u7a0b\u5185\u5b58\u8fc7\u5927",level:2}],c={toc:i},u="wrapper";function p(e){let{components:a,...r}=e;return(0,l.yg)(u,(0,n.A)({},c,r,{components:a,mdxType:"MDXLayout"}),(0,l.yg)("p",null,"\u5f53 Query \u7684\u62a5\u9519\u4fe1\u606f\u4e2d\u51fa\u73b0 ",(0,l.yg)("inlineCode",{parentName:"p"},"MEM_LIMIT_EXCEEDED")," \u4e14\u5305\u542b ",(0,l.yg)("inlineCode",{parentName:"p"},"Process memory not enough")," \u65f6\uff0c\u8bf4\u660e\u56e0\u4e3a\u8fdb\u7a0b\u53ef\u7528\u5185\u5b58\u4e0d\u8db3\u88ab Cancel\u3002"),(0,l.yg)("p",null,"\u9996\u5148\u89e3\u6790\u9519\u8bef\u4fe1\u606f\uff0c\u786e\u8ba4 Cancel \u7684\u539f\u56e0\u3001Cancel \u65f6 Query \u81ea\u8eab\u4f7f\u7528\u7684\u5185\u5b58\u5927\u5c0f\u3001\u4ee5\u53ca\u8fdb\u7a0b\u7684\u5185\u5b58\u72b6\u6001\u3002 Query \u88ab Cancel \u7684\u539f\u56e0\u901a\u5e38\u6709\u5982\u4e0b\u4e09\u79cd\uff1a"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"\u88ab Cancel \u7684 Query \u81ea\u8eab\u5185\u5b58\u8fc7\u5927\u3002")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"\u88ab Cancel \u7684 Query \u81ea\u8eab\u5185\u5b58\u8f83\u5c0f\uff0c\u6709\u5176\u4ed6\u5185\u5b58\u66f4\u5927\u7684 Query \u5b58\u5728\u3002")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},"\u5168\u5c40\u5171\u4eab\u7684 Cahce\u3001\u5143\u6570\u636e\u7b49\u5185\u5b58\u8fc7\u5927\uff0c\u6216\u8005\u67e5\u8be2\u548c\u5bfc\u5165\u4efb\u52a1\u4e4b\u5916\u7684\u5176\u4ed6\u4efb\u52a1\u5185\u5b58\u8fc7\u5927"))),(0,l.yg)("h2",{id:"\u9519\u8bef\u4fe1\u606f\u89e3\u6790"},"\u9519\u8bef\u4fe1\u606f\u89e3\u6790"),(0,l.yg)("p",null,"\u8fdb\u7a0b\u53ef\u7528\u5185\u5b58\u4e0d\u8db3\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u662f\u8fdb\u7a0b\u5f53\u524d\u5185\u5b58\u8d85\u51fa\u914d\u7f6e\u7684\u5185\u5b58\u4e0a\u9650\uff0c\u4e8c\u662f\u7cfb\u7edf\u5269\u4f59\u53ef\u7528\u5185\u5b58\u4f4e\u4e8e\u6c34\u4f4d\u7ebf\u3002\u5b58\u5728\u4e09\u4e2a\u8def\u5f84\u4f1a Cancel \u67e5\u8be2\u7b49\u4efb\u52a1\uff1a"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("p",{parentName:"li"},"\u5982\u679c\u62a5\u9519\u4fe1\u606f\u5305\u542b",(0,l.yg)("inlineCode",{parentName:"p"},"cancel top memory used"),"\uff0c\u8bf4\u660e\u4efb\u52a1\u5728\u5185\u5b58 Full GC \u4e2d\u88ab Cancel\u3002")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("p",{parentName:"li"},"\u5982\u679c\u62a5\u9519\u4fe1\u606f\u5305\u542b",(0,l.yg)("inlineCode",{parentName:"p"},"cancel top memory overcommit"),"\uff0c\u8bf4\u660e\u4efb\u52a1\u5728\u5185\u5b58 Minor GC \u4e2d\u88ab Cancel\u3002")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("p",{parentName:"li"},"\u5982\u679c\u62a5\u9519\u4fe1\u606f\u5305\u542b",(0,l.yg)("inlineCode",{parentName:"p"},"Allocator sys memory check failed"),"\uff0c\u8bf4\u660e\u4efb\u52a1\u4ece ",(0,l.yg)("inlineCode",{parentName:"p"},"Doris Allocator")," \u7533\u8bf7\u5185\u5b58\u5931\u8d25\u540e\u88ab Cancel\u3002"))),(0,l.yg)("p",null,"\u5728\u5bf9\u4e0b\u9762\u62a5\u9519\u4fe1\u606f\u7684\u89e3\u6790\u540e\uff0c"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("p",{parentName:"li"},"\u82e5\u67e5\u8be2\u548c\u5bfc\u5165\u81ea\u8eab\u4f7f\u7528\u7684\u5185\u5b58\u5360\u5230\u8fdb\u7a0b\u5185\u5b58\u7684\u5f88\u5927\u6bd4\u4f8b\uff0c\u53c2\u8003 ","[ Query \u81ea\u8eab\u5185\u5b58\u8fc7\u5927]"," \u5206\u6790\u67e5\u8be2\u548c\u5bfc\u5165\u7684\u5185\u5b58\u4f7f\u7528\uff0c\u5c1d\u8bd5\u8c03\u6574\u53c2\u6570\u6216\u4f18\u5316 SQL \u6765\u51cf\u5c11\u6267\u884c\u9700\u8981\u7684\u5185\u5b58\u3002")),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("p",{parentName:"li"},"\u82e5\u4efb\u52a1\u81ea\u8eab\u4f7f\u7528\u7684\u5185\u5b58\u5f88\u5c11\uff0c\u53c2\u8003 ","[\u67e5\u8be2\u548c\u5bfc\u5165\u4e4b\u5916\u7684\u8fdb\u7a0b\u5185\u5b58\u8fc7\u5927]"," \u5c1d\u8bd5\u51cf\u5c11\u8fdb\u7a0b\u5176\u4ed6\u4f4d\u7f6e\u7684\u5185\u5b58\u4f7f\u7528\uff0c\u4ece\u800c\u4fdd\u7559\u66f4\u591a\u7684\u5185\u5b58\u7528\u4e8e\u67e5\u8be2\u7b49\u4efb\u52a1\u6267\u884c\u3002"))),(0,l.yg)("p",null,"\u6709\u5173\u5185\u5b58\u9650\u5236\u548c\u6c34\u4f4d\u7ebf\u8ba1\u7b97\u65b9\u6cd5\u3001\u5185\u5b58 GC \u7684\u66f4\u591a\u4ecb\u7ecd\u89c1 ",(0,l.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/admin-manual/memory-management/memory-feature/memory-control-strategy"},"\u5185\u5b58\u63a7\u5236\u7b56\u7565")),(0,l.yg)("h3",{id:"1-\u5728\u5185\u5b58-full-gc-\u4e2d\u88ab-cancel"},"1 \u5728\u5185\u5b58 Full GC \u4e2d\u88ab Cancel"),(0,l.yg)("p",null,"\u82e5 BE \u8fdb\u7a0b\u5185\u5b58\u8d85\u8fc7\u8fdb\u7a0b\u5185\u5b58\u4e0a\u9650\uff08MemLimit\uff09\u6216\u7cfb\u7edf\u5269\u4f59\u53ef\u7528\u5185\u5b58\u4f4e\u4e8e\u5185\u5b58\u4f4e\u6c34\u4f4d\u7ebf (LowWaterMark) \u65f6\u89e6\u53d1 Full GC\uff0c\u6b64\u65f6\u4f1a\u4f18\u5148 Cancel \u5185\u5b58\u6700\u5927\u7684\u4efb\u52a1\u3002"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-sql"},"ERROR 1105 (HY000): errCode = 2, detailMessage = (10.16.10.8)[MEM_LIMIT_EXCEEDED]Process memory not enough, cancel top memory used query: <Query#Id=e862471398b14e71-9361a1ab8153cb29> consumption 866.97 MB, backend 10.16.10.8, process memory used 3.12 GB exceed limit 3.01 GB or sys available memory 191.25 GB less than low water mark 3.20 GB. Execute again after enough memory, details see be.INFO.\n")),(0,l.yg)("p",null,"\u9519\u8bef\u4fe1\u606f\u89e3\u6790\uff1a"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},(0,l.yg)("inlineCode",{parentName:"p"},"(10.16.10.8)"),": \u67e5\u8be2\u8fc7\u7a0b\u4e2d\u5185\u5b58\u4e0d\u8db3\u7684 BE \u8282\u70b9\u3002")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},(0,l.yg)("inlineCode",{parentName:"p"},"query: <Query#Id=e862471398b14e71-9361a1ab8153cb29> consumption 866.97 MB"),"\uff1a\u5f53\u524d\u88ab cancel \u7684 queryID\uff0cQuery \u672c\u8eab\u4f7f\u7528\u4e86 866.97 MB \u5185\u5b58\u3002")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},(0,l.yg)("inlineCode",{parentName:"p"},"process memory used 3.12 GB exceed limit 3.01 GB or sys available memory 191.25 GB less than low water mark 3.20 GB")," \u8fdb\u7a0b\u5185\u5b58\u8d85\u9650\u7684\u539f\u56e0\uff0c\u6b64\u5904\u662f BE \u8fdb\u7a0b\u4f7f\u7528\u7684\u7269\u7406\u5185\u5b58 3.12 GB \u8d85\u8fc7\u4e86 3.01 GB \u7684 MemLimit\uff0c\u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf\u5269\u4f59\u53ef\u4f9b BE \u4f7f\u7528\u7684\u5185\u5b58\u4e3a 191.25 GB \u4ecd\u9ad8\u4e8e LowWaterMark 3.20 GB\u3002"))),(0,l.yg)("h3",{id:"2-\u5728\u5185\u5b58-minor-gc-\u4e2d\u88ab-cancel"},"2 \u5728\u5185\u5b58 Minor GC \u4e2d\u88ab Cancel"),(0,l.yg)("p",null,"\u82e5 Doris BE \u8fdb\u7a0b\u5185\u5b58\u8d85\u8fc7\u8fdb\u7a0b\u5185\u5b58\u8f6f\u9650\uff08SoftMemLimit\uff09\u6216\u7cfb\u7edf\u5269\u4f59\u53ef\u7528\u5185\u5b58\u4f4e\u4e8e\u5185\u5b58\u8b66\u544a\u6c34\u4f4d\u7ebf\uff08WarningWaterMark\uff09\u65f6\u89e6\u53d1 Minor GC\uff0c\u6b64\u65f6\u4f1a\u4f18\u5148 Cancel \u5185\u5b58\u8d85\u9650\u6bd4\u4f8b\u6700\u5927\u7684 Query\u3002"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-sql"},"ERROR 1105 (HY000): errCode = 2, detailMessage = (10.16.10.8)[MEM_LIMIT_EXCEEDED]Process memory not enough, cancel top memory overcommit query: <Query#Id=e862471398b14e71-9361a1ab8153cb29> consumption 866.97 MB, backend 10.16.10.8, process memory used 2.12 GB exceed soft limit 2.71 GB or sys available memory 3.25 GB less than warning water mark 6.40 GB. Execute again after enough memory, details see be.INFO.\n")),(0,l.yg)("p",null,"\u9519\u8bef\u4fe1\u606f\u89e3\u6790\uff1a"),(0,l.yg)("p",null,(0,l.yg)("inlineCode",{parentName:"p"},"process memory used 3.12 GB exceed soft limit 6.02 GB or sys available memory 3.25 GB less than warning water mark 6.40 GB")," \u8fdb\u7a0b\u5185\u5b58\u8d85\u9650\u7684\u539f\u56e0\uff0c\u6b64\u5904\u662f\u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf\u5269\u4f59\u53ef\u4f9b BE \u4f7f\u7528\u7684\u5185\u5b58\u4e3a 3.25 GB \u4f4e\u4e8e WarningWaterMark 6.40 GB, BE \u8fdb\u7a0b\u4f7f\u7528\u7684\u7269\u7406\u5185\u5b58 2.12 GB \u6ca1\u6709\u8d85\u8fc7 2.71 GB \u7684 SoftMemLimit\u3002"),(0,l.yg)("h3",{id:"3-\u4ece-allocator-\u7533\u8bf7\u5185\u5b58\u5931\u8d25"},"3 \u4ece Allocator \u7533\u8bf7\u5185\u5b58\u5931\u8d25"),(0,l.yg)("p",null,"Doris BE \u7684\u5927\u5185\u5b58\u7533\u8bf7\u90fd\u4f1a\u901a\u8fc7 ",(0,l.yg)("inlineCode",{parentName:"p"},"Doris Allocator")," \u5206\u914d\uff0c\u5e76\u5728\u5206\u914d\u65f6\u68c0\u67e5\u5185\u5b58\u5927\u5c0f\uff0c\u5982\u679c\u8fdb\u7a0b\u53ef\u7528\u5185\u5b58\u4e0d\u8db3\u5219\u4f1a\u629b\u51fa\u5f02\u5e38\u548c\u5c1d\u8bd5 Cancel \u5f53\u524d Query \u3002"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-sql"},"ERROR 1105 (HY000): errCode = 2, detailMessage = (10.16.10.8)[MEM_LIMIT_EXCEEDED]PreCatch error code:11, [E11] Allocator sys memory check failed: Cannot alloc:4294967296, consuming tracker:<Query#Id=457efb1fdae74d3b-b4fffdcfd4baaf32>, peak used 405956032, current used 386704704, exec node:<>, process memory used 2.23 GB exceed limit 3.01 GB or sys available memory 181.67 GB less than low water mark 3.20 GB.\n")),(0,l.yg)("p",null,"\u9519\u8bef\u4fe1\u606f\u89e3\u6790\uff1a"),(0,l.yg)("ol",null,(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},(0,l.yg)("inlineCode",{parentName:"p"},"consuming tracker:<Query#Id=457efb1fdae74d3b-b4fffdcfd4baaf32>, peak used 405956032, current used 386704704, exec node:VAGGREGATION_NODE (id=7)>"),"\uff1a\u5f53\u524d\u88ab Cancel \u7684 queryID\uff0cQuery \u5f53\u524d\u4f7f\u7528\u4e86 386704704 Bytes \u5185\u5b58\uff0cQuery \u5185\u5b58\u5cf0\u503c\u4e3a 405956032 Bytes\uff0c\u6b63\u5728\u6267\u884c\u7684\u7b97\u5b50\u4e3a ",(0,l.yg)("inlineCode",{parentName:"p"},"VAGGREGATION_NODE (id=7)>"),"\u3002")),(0,l.yg)("li",{parentName:"ol"},(0,l.yg)("p",{parentName:"li"},(0,l.yg)("inlineCode",{parentName:"p"},"Cannot alloc:4294967296"),": \u5f53\u524d\u7533\u8bf7 4 GB \u5185\u5b58\u65f6\u5931\u8d25\uff0c\u56e0\u4e3a\u5f53\u524d\u8fdb\u7a0b\u5185\u5b58 2.23 GB \u52a0\u4e0a 4 GB \u5c06\u5927\u4e8e 3.01 GB \u7684 MemLimit\u3002"))),(0,l.yg)("h2",{id:"\u88ab-cancel-\u7684-query-\u81ea\u8eab\u5185\u5b58\u8fc7\u5927"},"\u88ab Cancel \u7684 Query \u81ea\u8eab\u5185\u5b58\u8fc7\u5927"),(0,l.yg)("p",null,"\u53c2\u8003 ",(0,l.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/admin-manual/memory-management/memory-analysis/query-memory-analysis"},"\u67e5\u8be2\u5185\u5b58\u5206\u6790")," \u6216 ",(0,l.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/admin-manual/memory-management/memory-analysis/load-memory-analysis"},"\u5bfc\u5165\u5185\u5b58\u5206\u6790")," \u5206\u6790\u67e5\u8be2\u548c\u5bfc\u5165\u7684\u5185\u5b58\u4f7f\u7528\uff0c\u5c1d\u8bd5\u8c03\u6574\u53c2\u6570\u6216\u4f18\u5316 SQL \u6765\u51cf\u5c11\u6267\u884c\u9700\u8981\u7684\u5185\u5b58\u3002"),(0,l.yg)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u82e5\u4efb\u52a1\u4ece Allocator \u7533\u8bf7\u5185\u5b58\u5931\u8d25\u540e\u88ab Cancel\uff0c",(0,l.yg)("inlineCode",{parentName:"p"},"Cannot alloc")," \u6216 ",(0,l.yg)("inlineCode",{parentName:"p"},"try alloc")," \u663e\u793a Query \u5f53\u524d\u6b63\u5728\u7533\u8bf7\u7684\u5185\u5b58\u8fc7\u5927\uff0c\u6b64\u65f6\u9700\u8981\u5173\u6ce8\u6b64\u5904\u7684\u5185\u5b58\u7533\u8bf7\u662f\u5426\u5408\u7406\uff0c\u5728 ",(0,l.yg)("inlineCode",{parentName:"p"},"be/log/be.INFO")," \u641c\u7d22 ",(0,l.yg)("inlineCode",{parentName:"p"},"Allocator sys memory check failed")," \u53ef\u4ee5\u627e\u5230\u7533\u8bf7\u5185\u5b58\u7684\u6808\u3002"),(0,l.yg)("h2",{id:"\u88ab-cancel-\u7684-query-\u81ea\u8eab\u5185\u5b58\u8f83\u5c0f\u6709\u5176\u4ed6\u5185\u5b58\u66f4\u5927\u7684-query-\u5b58\u5728"},"\u88ab Cancel \u7684 Query \u81ea\u8eab\u5185\u5b58\u8f83\u5c0f\uff0c\u6709\u5176\u4ed6\u5185\u5b58\u66f4\u5927\u7684 Query \u5b58\u5728"),(0,l.yg)("p",null,"\u901a\u5e38\u662f\u56e0\u4e3a\u5185\u5b58\u66f4\u5927\u7684 Query \u5728 Cancel \u9636\u6bb5\u5361\u4f4f\uff0c\u65e0\u6cd5\u53ca\u65f6\u91ca\u653e\u5185\u5b58\u3002Full GC \u4f1a\u5148\u6309\u7167\u5185\u5b58\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f Cancel Query\uff0c\u518d\u6309\u7167\u5185\u5b58\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f Cancel Load\u3002\u82e5 Query \u5728\u5185\u5b58 Full GC \u4e2d\u88ab Cancel\uff0c\u4f46\u6b64\u65f6 BE \u8fdb\u7a0b\u4e2d\u5b58\u5728\u5176\u4ed6 Query \u7684\u5185\u5b58\u5927\u4e8e\u5f53\u524d\u88ab Cancel \u7684 Query\uff0c\u9700\u8981\u5173\u6ce8\u8fd9\u4e9b\u66f4\u5927\u5185\u5b58\u7684 Query \u662f\u5426\u5728 Cancel \u8fc7\u7a0b\u4e2d\u5361\u4f4f\u3002"),(0,l.yg)("p",null,"\u9996\u5148\u6267\u884c ",(0,l.yg)("inlineCode",{parentName:"p"},"grep {queryID} be/log/be.INFO")," \u627e\u5230 Query \u88ab Cancel \u7684\u65f6\u95f4\u70b9\uff0c\u7136\u540e\u5728\u4e0a\u4e0b\u6587\u641c\u7d22 ",(0,l.yg)("inlineCode",{parentName:"p"},"Memory Tracker Summary")," \u627e\u5230\u8fdb\u7a0b\u5185\u5b58\u7edf\u8ba1\u65e5\u5fd7\uff0c\u82e5 ",(0,l.yg)("inlineCode",{parentName:"p"},"Memory Tracker Summary")," \u4e2d\u5b58\u5728\u4f7f\u7528\u5185\u5b58\u66f4\u5927\u7684 Query \u5b58\u5728\u3002\u6267\u884c ",(0,l.yg)("inlineCode",{parentName:"p"},"grep {\u66f4\u5927\u5185\u5b58\u7684queryID} be/log/be.INFO")," \u786e\u8ba4\u662f\u5426\u6709 ",(0,l.yg)("inlineCode",{parentName:"p"},"Cancel")," \u5173\u952e\u8bcd\u7684\u65e5\u5fd7\uff0c\u5bf9\u5e94\u65f6\u95f4\u70b9\u5c31\u662f Query \u88ab Cancel \u7684\u65f6\u95f4\uff0c\u82e5\u8be5 Query \u540c\u6837\u88ab Cancel\uff0c\u4e14\u8fd9\u4e2a\u66f4\u5927\u5185\u5b58\u7684 Query \u88ab Cancel \u7684\u65f6\u95f4\u70b9\u548c\u5f53\u524d Query \u88ab Cancel \u7684\u65f6\u95f4\u70b9\u4e0d\u540c\uff0c\u53c2\u8003 ",(0,l.yg)("a",{parentName:"p",href:"./memory-issue-faq.md"},"\u5185\u5b58\u95ee\u9898 FAQ")," \u4e2d ","[Query Cancel \u8fc7\u7a0b\u4e2d\u5361\u4f4f]"," \u5206\u6790\u8fd9\u4e2a\u66f4\u5927\u5185\u5b58\u7684 Query \u662f\u5426\u5728 Cacnel \u8fc7\u7a0b\u4e2d\u5361\u4f4f\u3002\u6709\u5173 ",(0,l.yg)("inlineCode",{parentName:"p"},"Memory Tracker Summary")," \u7684\u5206\u6790\u53c2\u8003 ",(0,l.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/admin-manual/memory-management/memory-analysis/memory-log-analysis"},"\u5185\u5b58\u65e5\u5fd7\u5206\u6790"),"\u3002"),(0,l.yg)("h2",{id:"\u67e5\u8be2\u548c\u5bfc\u5165\u4efb\u52a1\u4e4b\u5916\u7684\u8fdb\u7a0b\u5185\u5b58\u8fc7\u5927"},"\u67e5\u8be2\u548c\u5bfc\u5165\u4efb\u52a1\u4e4b\u5916\u7684\u8fdb\u7a0b\u5185\u5b58\u8fc7\u5927"),(0,l.yg)("p",null,"\u5c1d\u8bd5\u5b9a\u4f4d\u5185\u5b58\u4f4d\u7f6e\u5e76\u8003\u8651\u51cf\u5c11\u5185\u5b58\u4f7f\u7528\uff0c\u4fdd\u7559\u66f4\u591a\u7684\u5185\u5b58\u7528\u4e8e\u67e5\u8be2\u548c\u5bfc\u5165\u6267\u884c\u3002"),(0,l.yg)("p",null,"\u4efb\u52a1\u56e0\u8fdb\u7a0b\u53ef\u7528\u5185\u5b58\u4e0d\u8db3\u88ab Cancel \u7684\u65f6\u95f4\u70b9\u53ef\u4ee5\u5728 ",(0,l.yg)("inlineCode",{parentName:"p"},"be/log/be.INFO")," \u4e2d\u627e\u5230\u8fdb\u7a0b\u5185\u5b58\u7edf\u8ba1\u65e5\u5fd7\uff0c\u6267\u884c ",(0,l.yg)("inlineCode",{parentName:"p"},"grep queryID be/log/be.INFO")," \u627e\u5230 Query \u88ab Cancel \u7684\u65f6\u95f4\u70b9\uff0c\u7136\u540e\u5728\u4e0a\u4e0b\u6587\u641c\u7d22 ",(0,l.yg)("inlineCode",{parentName:"p"},"Memory Tracker Summary")," \u627e\u5230\u8fdb\u7a0b\u5185\u5b58\u7edf\u8ba1\u65e5\u5fd7\uff0c\u7136\u540e\u53c2\u8003 ",(0,l.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/admin-manual/memory-management/memory-analysis/memory-log-analysis"},"\u5185\u5b58\u65e5\u5fd7\u5206\u6790")," \u4e2d ","[\u8fdb\u7a0b\u5185\u5b58\u7edf\u8ba1\u65e5\u5fd7\u5206\u6790]"," \u7ae0\u8282\u8fdb\u4e00\u6b65\u5206\u6790\u3002\u5728\u5206\u6790\u524d\u5148\u53c2\u8003 ",(0,l.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/admin-manual/memory-management/memory-feature/memory-tracker"},"\u5185\u5b58\u8ddf\u8e2a\u5668")," \u4e2d ","[Memory Tracker \u7edf\u8ba1\u7f3a\u5931]"," \u7ae0\u8282\u5206\u6790 Memory Tracker \u662f\u5426\u5b58\u5728\u7edf\u8ba1\u7f3a\u5931\u3002"),(0,l.yg)("p",null,"\u82e5 Memory Tracker \u5b58\u5728\u7edf\u8ba1\u7f3a\u5931\uff0c\u5219\u53c2\u8003 ","[Memory Tracker \u7edf\u8ba1\u7f3a\u5931]"," \u7ae0\u8282\u8fdb\u4e00\u6b65\u5206\u6790\u3002\u5426\u5219 Memory Tracker \u7edf\u8ba1\u4e86\u5927\u90e8\u5206\u5185\u5b58\uff0c\u4e0d\u5b58\u5728\u7edf\u8ba1\u7f3a\u5931\uff0c\u53c2\u8003 ",(0,l.yg)("a",{parentName:"p",href:"/zh-CN/docs/dev/admin-manual/memory-management/overview"},"Overview")," \u5206\u6790 Doris BE \u8fdb\u7a0b\u4e0d\u540c\u90e8\u5206\u5185\u5b58\u5360\u7528\u8fc7\u5927\u7684\u539f\u56e0\u4ee5\u53ca\u51cf\u5c11\u5176\u5185\u5b58\u4f7f\u7528\u7684\u65b9\u6cd5\u3002"))}p.isMDXComponent=!0}}]);